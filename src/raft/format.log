S0|T0 is made                                                                                                     
                        S1|T0 is made                                                                             
                                               S2|T0 is made                                                      
                        S1|T0 is not leader                                                                       
                                               S2|T0 is not leader                                                
S0|T0 is not leader                                                                                               
S0|T0 is not leader                                                                                               
                                               S2|T0 is not leader                                                
                        S1|T0 is not leader                                                                       
                        S1|T0 is not leader                                                                       
                                               S2|T0 is not leader                                                
S0|T0 is not leader                                                                                               
                                               S2|T0 is not leader                                                
                        S1|T0 is not leader                                                                       
S0|T0 is not leader                                                                                               
                                               S2|T0 is not leader                                                
S0|T0 is not leader                                                                                               
                        S1|T0 is not leader                                                                       
S0|T1 starts to join                                                                                              
election                                                                                                          
S0|T1 save persist|                                                                                               
votedFor: 0| logsLen: 1                                                                                           
                                               S2|T1 save persist|                                                
                                               votedFor: -1| logsLen:                                             
                                               1                                                                  
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               1                                                                  
                                               S2|T1 votes for                                                    
                                               S0[RequestVote]                                                    
                        S1|T1 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        1                                                                                         
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        1                                                                                         
                        S1|T1 votes for                                                                           
                        S0[RequestVote]                                                                           
S0|T1 becomes the                                                                                                 
leader, and starts                                                                                                
heatbeats                                                                                                         
S0|T1 ends this round                                                                                             
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               1                                                                  
                                               S2|T1 appends logs                                                 
                                               from S0| logLen:                                                   
                                               1[AppendEntry]                                                     
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        1                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        1[AppendEntry]                                                                            
S0|T1 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:0| nextidx:1                                                                                             
S0|T1 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:0| nextidx:1                                                                                             
                                               S2|T1 is not leader                                                
                        S1|T1 is not leader                                                                       
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               1                                                                  
                                               S2|T1 appends logs                                                 
                                               from S0| logLen:                                                   
                                               1[AppendEntry]                                                     
S0|T1 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:0| nextidx:1                                                                                             
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        1                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        1[AppendEntry]                                                                            
S0|T1 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:0| nextidx:1                                                                                             
S0|T1 save persist|                                                                                               
votedFor: 0| logsLen: 2                                                                                           
S0|T1 receive commands                                                                                            
| logLen: 2[Start]                                                                                                
                        S1|T1 is not leader                                                                       
                                               S2|T1 is not leader                                                
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                                               S2|T1 appends logs                                                 
                                               from S0| logLen:                                                   
                                               2[AppendEntry]                                                     
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
S0|T1 replica entries                                                                                             
to S2| entrylen:1|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T1 update                                                                                                      
commitIndex as 1                                                                                                  
S0|T1 apply entries                                                                                               
[1:1][ApplyEntry]                                                                                                 
S0|T1 replica entries                                                                                             
to S1| entrylen:1|                                                                                                
matchidx:1| nextidx:2                                                                                             
                                               S2|T1 is not leader                                                
                        S1|T1 is not leader                                                                       
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                                               S2|T1 appends logs                                                 
                                               from S0| logLen:                                                   
                                               2[AppendEntry]                                                     
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                               S2|T1 apply entries                                                
                                               [1:1][ApplyEntry]                                                  
S0|T1 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
                        S1|T1 apply entries                                                                       
                        [1:1][ApplyEntry]                                                                         
S0|T1 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T0 is made                                                                                                     
S0|T1 read persist|                                                                                               
votedFor: 0| logsLen: 2                                                                                           
                        S1|T0 is made                                                                             
                        S1|T1 read persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                                               S2|T0 is made                                                      
                                               S2|T1 read persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                                               S2|T1 is not leader                                                
                        S1|T1 is not leader                                                                       
                        S1|T1 is not leader                                                                       
S0|T1 is not leader                                                                                               
                                               S2|T1 is not leader                                                
                                               S2|T1 is not leader                                                
                        S1|T1 is not leader                                                                       
S0|T1 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
                                               S2|T1 is not leader                                                
S0|T1 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
                                               S2|T1 is not leader                                                
S0|T1 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
S0|T1 is not leader                                                                                               
                                               S2|T1 is not leader                                                
S0|T2 starts to join                                                                                              
election                                                                                                          
S0|T2 save persist|                                                                                               
votedFor: 0| logsLen: 2                                                                                           
                                               S2|T2 save persist|                                                
                                               votedFor: -1| logsLen:                                             
                                               2                                                                  
                                               S2|T2 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                                               S2|T2 votes for                                                    
                                               S0[RequestVote]                                                    
                        S1|T2 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        2                                                                                         
                        S1|T2 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T2 votes for                                                                           
                        S0[RequestVote]                                                                           
S0|T2 becomes the                                                                                                 
leader, and starts                                                                                                
heatbeats                                                                                                         
S0|T2 ends this round                                                                                             
                                               S2|T2 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                                               S2|T2 appends logs                                                 
                                               from S0| logLen:                                                   
                                               2[AppendEntry]                                                     
                        S1|T2 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T2 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
S0|T2 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T2 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T2 save persist|                                                                                               
votedFor: 0| logsLen: 3                                                                                           
S0|T2 receive commands                                                                                            
| logLen: 3[Start]                                                                                                
                                               S2|T2 is not leader                                                
                        S1|T2 is not leader                                                                       
                        S1|T2 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
                        S1|T2 appends logs                                                                        
                        from S0| logLen:                                                                          
                        3[AppendEntry]                                                                            
                                               S2|T2 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               3                                                                  
                                               S2|T2 appends logs                                                 
                                               from S0| logLen:                                                   
                                               3[AppendEntry]                                                     
S0|T2 replica entries                                                                                             
to S1| entrylen:1|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T2 update                                                                                                      
commitIndex as 2                                                                                                  
S0|T2 apply entries                                                                                               
[1:2][ApplyEntry]                                                                                                 
S0|T2 replica entries                                                                                             
to S2| entrylen:1|                                                                                                
matchidx:2| nextidx:3                                                                                             
                        S1|T2 is not leader                                                                       
                                               S2|T2 is not leader                                                
                        S1|T2 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
                        S1|T2 appends logs                                                                        
                        from S0| logLen:                                                                          
                        3[AppendEntry]                                                                            
                                               S2|T2 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               3                                                                  
                                               S2|T2 appends logs                                                 
                                               from S0| logLen:                                                   
                                               3[AppendEntry]                                                     
                        S1|T2 apply entries                                                                       
                        [1:2][ApplyEntry]                                                                         
                                               S2|T2 apply entries                                                
                                               [1:2][ApplyEntry]                                                  
S0|T2 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T2 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
                        S1|T2 is not leader                                                                       
                                               S2|T2 is not leader                                                
                                               S2|T2 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               3                                                                  
                                               S2|T2 appends logs                                                 
                                               from S0| logLen:                                                   
                                               3[AppendEntry]                                                     
                        S1|T2 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
                        S1|T2 appends logs                                                                        
                        from S0| logLen:                                                                          
                        3[AppendEntry]                                                                            
S0|T2 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T2 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
                        S1|T2 is not leader                                                                       
                                               S2|T2 is not leader                                                
                        S1|T2 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
                        S1|T2 appends logs                                                                        
                        from S0| logLen:                                                                          
                        3[AppendEntry]                                                                            
                                               S2|T2 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               3                                                                  
                                               S2|T2 appends logs                                                 
                                               from S0| logLen:                                                   
                                               3[AppendEntry]                                                     
S0|T2 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T2 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
                                               S2|T2 is not leader                                                
                        S1|T2 is not leader                                                                       
                                               S2|T2 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               3                                                                  
                                               S2|T2 appends logs                                                 
                                               from S0| logLen:                                                   
                                               3[AppendEntry]                                                     
                        S1|T2 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
                        S1|T2 appends logs                                                                        
                        from S0| logLen:                                                                          
                        3[AppendEntry]                                                                            
S0|T2 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T2 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
                        S1|T2 is not leader                                                                       
                                               S2|T2 is not leader                                                
                                               S2|T2 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               3                                                                  
                                               S2|T2 appends logs                                                 
                                               from S0| logLen:                                                   
                                               3[AppendEntry]                                                     
                        S1|T2 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
                        S1|T2 appends logs                                                                        
                        from S0| logLen:                                                                          
                        3[AppendEntry]                                                                            
S0|T2 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T2 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
                        S1|T2 is not leader                                                                       
                                               S2|T2 is not leader                                                
                        S1|T2 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
                        S1|T2 appends logs                                                                        
                        from S0| logLen:                                                                          
                        3[AppendEntry]                                                                            
                                               S2|T2 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               3                                                                  
                                               S2|T2 appends logs                                                 
                                               from S0| logLen:                                                   
                                               3[AppendEntry]                                                     
S0|T2 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T2 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T0 is made                                                                                                     
S0|T2 read persist|                                                                                               
votedFor: 0| logsLen: 3                                                                                           
                                               S2|T2 is not leader                                                
                        S1|T2 is not leader                                                                       
S0|T2 is not leader                                                                                               
                        S1|T2 is not leader                                                                       
                                               S2|T2 is not leader                                                
S0|T2 is not leader                                                                                               
                                               S2|T2 is not leader                                                
                        S1|T2 is not leader                                                                       
S0|T2 is not leader                                                                                               
                        S1|T2 is not leader                                                                       
                                               S2|T2 is not leader                                                
S0|T2 is not leader                                                                                               
                                               S2|T2 is not leader                                                
                        S1|T2 is not leader                                                                       
S0|T2 is not leader                                                                                               
                                               S2|T2 is not leader                                                
                        S1|T2 is not leader                                                                       
S0|T2 is not leader                                                                                               
S0|T3 starts to join                                                                                              
election                                                                                                          
S0|T3 save persist|                                                                                               
votedFor: 0| logsLen: 3                                                                                           
                                               S2|T3 save persist|                                                
                                               votedFor: -1| logsLen:                                             
                                               3                                                                  
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               3                                                                  
                                               S2|T3 votes for                                                    
                                               S0[RequestVote]                                                    
                        S1|T3 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        3                                                                                         
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
                        S1|T3 votes for                                                                           
                        S0[RequestVote]                                                                           
S0|T3 becomes the                                                                                                 
leader, and starts                                                                                                
heatbeats                                                                                                         
S0|T3 ends this round                                                                                             
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               3                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               3[AppendEntry]                                                     
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        3[AppendEntry]                                                                            
S0|T3 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T3 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T3 save persist|                                                                                               
votedFor: 0| logsLen: 4                                                                                           
S0|T3 receive commands                                                                                            
| logLen: 4[Start]                                                                                                
                        S1|T3 is not leader                                                                       
                                               S2|T3 is not leader                                                
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        4                                                                                         
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               4                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T3 replica entries                                                                                             
to S2| entrylen:1|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T3 update                                                                                                      
commitIndex as 3                                                                                                  
S0|T3 apply entries                                                                                               
[1:3][ApplyEntry]                                                                                                 
S0|T3 replica entries                                                                                             
to S1| entrylen:1|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               4                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        4                                                                                         
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
                                               S2|T3 apply entries                                                
                                               [3:3][ApplyEntry]                                                  
S0|T3 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T3 apply entries                                                                       
                        [3:3][ApplyEntry]                                                                         
S0|T3 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T3 is not leader                                                                       
                                               S2|T3 is not leader                                                
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        4                                                                                         
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               4                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
S0|T3 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T3 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T3 is not leader                                                                       
                                               S2|T3 is not leader                                                
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        4                                                                                         
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               4                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T3 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T3 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               4                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        4                                                                                         
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T3 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T3 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               4                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        4                                                                                         
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T3 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T3 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               4                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        4                                                                                         
S0|T3 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T3 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                        S1|T3 is not leader                                                                       
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                                               S2|T3 is not leader                                                
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                                               S2|T4 starts to join                                               
                                               election                                                           
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                        S1|T4 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        4                                                                                         
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 votes for                                                                           
                        S2[RequestVote]                                                                           
                                               S2|T4 becomes the                                                  
                                               leader, and starts                                                 
                                               heatbeats                                                          
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        4[AppendEntry]                                                                            
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:3| nextidx:4                                              
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               5                                                                  
                                               S2|T4 receive commands                                             
                                               | logLen: 5[Start]                                                 
                        S1|T4 is not leader                                                                       
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        5[AppendEntry]                                                                            
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:1|                                                 
                                               matchidx:4| nextidx:5                                              
                                               S2|T4 update                                                       
                                               commitIndex as 4                                                   
                                               S2|T4 apply entries                                                
                                               [4:4][ApplyEntry]                                                  
                        S1|T4 is not leader                                                                       
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        5[AppendEntry]                                                                            
                        S1|T4 apply entries                                                                       
                        [4:4][ApplyEntry]                                                                         
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
S0|T0 is made                                                                                                     
S0|T3 read persist|                                                                                               
votedFor: 0| logsLen: 4                                                                                           
                        S1|T4 is not leader                                                                       
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 4                                                                                           
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        5[AppendEntry]                                                                            
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 5                                                                                           
S0|T4 appends logs from                                                                                           
S2| logLen:                                                                                                       
5[AppendEntry]                                                                                                    
                                               S2|T4 replica entries                                              
                                               to S0| entrylen:1|                                                 
                                               matchidx:4| nextidx:5                                              
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
S0|T4 apply entries                                                                                               
[1:4][ApplyEntry]                                                                                                 
S0|T4 is not leader                                                                                               
                        S1|T4 is not leader                                                                       
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        5[AppendEntry]                                                                            
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 5                                                                                           
S0|T4 appends logs from                                                                                           
S2| logLen:                                                                                                       
5[AppendEntry]                                                                                                    
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
                                               S2|T4 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
S0|T4 is not leader                                                                                               
                        S1|T4 is not leader                                                                       
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        5[AppendEntry]                                                                            
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 5                                                                                           
S0|T4 appends logs from                                                                                           
S2| logLen:                                                                                                       
5[AppendEntry]                                                                                                    
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
                                               S2|T4 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
S0|T4 is not leader                                                                                               
                        S1|T4 is not leader                                                                       
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        5[AppendEntry]                                                                            
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 5                                                                                           
S0|T4 appends logs from                                                                                           
S2| logLen:                                                                                                       
5[AppendEntry]                                                                                                    
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
                                               S2|T4 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
S0|T4 is not leader                                                                                               
                        S1|T4 is not leader                                                                       
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        5[AppendEntry]                                                                            
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 5                                                                                           
S0|T4 appends logs from                                                                                           
S2| logLen:                                                                                                       
5[AppendEntry]                                                                                                    
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
                                               S2|T4 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
S0|T4 is not leader                                                                                               
                        S1|T4 is not leader                                                                       
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        5[AppendEntry]                                                                            
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 5                                                                                           
S0|T4 appends logs from                                                                                           
S2| logLen:                                                                                                       
5[AppendEntry]                                                                                                    
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
                                               S2|T4 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:4| nextidx:5                                              
S0|T4 is not leader                                                                                               
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               6                                                                  
                                               S2|T4 receive commands                                             
                                               | logLen: 6[Start]                                                 
                        S1|T4 is not leader                                                                       
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        6                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        6[AppendEntry]                                                                            
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:1|                                                 
                                               matchidx:5| nextidx:6                                              
                                               S2|T4 update                                                       
                                               commitIndex as 5                                                   
                                               S2|T4 apply entries                                                
                                               [5:5][ApplyEntry]                                                  
S0|T4 is not leader                                                                                               
                        S1|T4 is not leader                                                                       
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        6                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        6[AppendEntry]                                                                            
                        S1|T4 apply entries                                                                       
                        [5:5][ApplyEntry]                                                                         
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:5| nextidx:6                                              
S0|T0 is made                                                                                                     
S0|T4 read persist|                                                                                               
votedFor: 0| logsLen: 5                                                                                           
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               7                                                                  
                                               S2|T4 receive commands                                             
                                               | logLen: 7[Start]                                                 
S0|T4 is not leader                                                                                               
                        S1|T4 is not leader                                                                       
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 7                                                                                           
S0|T4 appends logs from                                                                                           
S2| logLen:                                                                                                       
7[AppendEntry]                                                                                                    
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        7                                                                                         
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        7[AppendEntry]                                                                            
S0|T4 apply entries                                                                                               
[1:5][ApplyEntry]                                                                                                 
                                               S2|T4 replica entries                                              
                                               to S0| entrylen:2|                                                 
                                               matchidx:6| nextidx:7                                              
                                               S2|T4 update                                                       
                                               commitIndex as 6                                                   
                                               S2|T4 apply entries                                                
                                               [6:6][ApplyEntry]                                                  
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:1|                                                 
                                               matchidx:6| nextidx:7                                              
S0|T4 is not leader                                                                                               
                        S1|T4 is not leader                                                                       
                        S1|T4 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        7                                                                                         
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 7                                                                                           
S0|T4 appends logs from                                                                                           
S2| logLen:                                                                                                       
7[AppendEntry]                                                                                                    
                        S1|T4 appends logs                                                                        
                        from S2| logLen:                                                                          
                        7[AppendEntry]                                                                            
                                               S2|T4 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:6| nextidx:7                                              
                        S1|T4 apply entries                                                                       
                        [6:6][ApplyEntry]                                                                         
S0|T4 apply entries                                                                                               
[6:6][ApplyEntry]                                                                                                 
                                               S2|T4 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:6| nextidx:7                                              
S0|T4 is not leader                                                                                               
S0|T0 is made                                                                                                     
                        S1|T0 is made                                                                             
                                               S2|T0 is made                                                      
                                                                      S3|T0 is made                               
                                                                                            S4|T0 is made         
                        S1|T4 is not leader                                                                       
S0|T4 is not leader                                                                                               
S0|T0 is not leader                                                                                               
                        S1|T0 is not leader                                                                       
                                                                                            S4|T0 is not leader   
                                                                      S3|T0 is not leader                         
                                               S2|T0 is not leader                                                
S0|T0 is not leader                                                                                               
                        S1|T0 is not leader                                                                       
                                                                      S3|T0 is not leader                         
                                               S2|T0 is not leader                                                
                                                                                            S4|T0 is not leader   
                        S1|T0 is not leader                                                                       
                                                                                            S4|T0 is not leader   
                                                                      S3|T0 is not leader                         
S0|T0 is not leader                                                                                               
                                               S2|T0 is not leader                                                
S0|T0 is not leader                                                                                               
                        S1|T0 is not leader                                                                       
                                               S2|T0 is not leader                                                
                                                                      S3|T0 is not leader                         
                                                                                            S4|T0 is not leader   
                                               S2|T1 starts to join                                               
                                               election                                                           
                                               S2|T1 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               1                                                                  
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: -1| logsLen:
                                                                                            1                     
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            1                     
                                                                                            S4|T1 votes for       
                                                                                            S2[RequestVote]       
                        S1|T1 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        1                                                                                         
S0|T1 save persist|                                                                                               
votedFor: -1| logsLen:                                                                                            
1                                                                                                                 
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 1                                                                                           
                                                                      S3|T1 save persist|                         
                                                                      votedFor: -1|                               
                                                                      logsLen: 1                                  
S0|T1 votes for                                                                                                   
S2[RequestVote]                                                                                                   
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      1                                           
                                                                      S3|T1 votes for                             
                                                                      S2[RequestVote]                             
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        1                                                                                         
                        S1|T1 votes for                                                                           
                        S2[RequestVote]                                                                           
                                               S2|T1 becomes the                                                  
                                               leader, and starts                                                 
                                               heatbeats                                                          
                                               S2|T1 ends this round                                              
                                               S2|T1 ends this round                                              
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      1                                           
                                                                      S3|T1 appends logs                          
                                                                      from S2| logLen:                            
                                                                      1[AppendEntry]                              
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            1                     
                                                                                            S4|T1 appends logs    
                                                                                            from S2| logLen:      
                                                                                            1[AppendEntry]        
                                               S2|T1 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 1                                                                                           
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        1                                                                                         
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        1[AppendEntry]                                                                            
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
1[AppendEntry]                                                                                                    
                                               S2|T1 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
                                                                                            S4|T1 is not leader   
                                                                      S3|T1 is not leader                         
                        S1|T1 is not leader                                                                       
S0|T1 is not leader                                                                                               
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      1                                           
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 1                                                                                           
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
1[AppendEntry]                                                                                                    
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        1                                                                                         
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        1[AppendEntry]                                                                            
                                                                      S3|T1 appends logs                          
                                                                      from S2| logLen:                            
                                                                      1[AppendEntry]                              
                                               S2|T1 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               2                                                                  
                                               S2|T1 receive commands                                             
                                               | logLen: 2[Start]                                                 
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            1                     
                                               S2|T1 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
                                                                                            S4|T1 appends logs    
                                                                                            from S2| logLen:      
                                                                                            1[AppendEntry]        
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
                                               S2|T1 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
                                                                                            S4|T1 is not leader   
                                                                      S3|T1 is not leader                         
S0|T1 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            2                     
                                                                                            S4|T1 appends logs    
                                                                                            from S2| logLen:      
                                                                                            2[AppendEntry]        
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 2                                                                                           
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      2                                           
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        2                                                                                         
                                               S2|T1 replica entries                                              
                                               to S4| entrylen:1|                                                 
                                               matchidx:1| nextidx:2                                              
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:1|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 update                                                       
                                               commitIndex as 1                                                   
                                                                      S3|T1 appends logs                          
                                                                      from S2| logLen:                            
                                                                      2[AppendEntry]                              
                                               S2|T1 apply entries                                                
                                               [1:1][ApplyEntry]                                                  
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:1|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 replica entries                                              
                                               to S3| entrylen:1|                                                 
                                               matchidx:1| nextidx:2                                              
S0|T1 is not leader                                                                                               
                                                                                            S4|T1 is not leader   
                        S1|T1 is not leader                                                                       
                                                                      S3|T1 is not leader                         
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      2                                           
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            2                     
                                                                                            S4|T1 appends logs    
                                                                                            from S2| logLen:      
                                                                                            2[AppendEntry]        
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 2                                                                                           
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        2                                                                                         
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                               S2|T1 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                                                                            S4|T1 apply entries   
                                                                                            [1:1][ApplyEntry]     
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                                                      S3|T1 appends logs                          
                                                                      from S2| logLen:                            
                                                                      2[AppendEntry]                              
S0|T1 apply entries                                                                                               
[1:1][ApplyEntry]                                                                                                 
                        S1|T1 apply entries                                                                       
                        [1:1][ApplyEntry]                                                                         
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                                                      S3|T1 apply entries                         
                                                                      [1:1][ApplyEntry]                           
                                               S2|T1 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                        S1|T1 is not leader                                                                       
                                                                      S3|T1 is not leader                         
                                                                                            S4|T1 is not leader   
S0|T1 is not leader                                                                                               
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        2                                                                                         
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      2                                           
                                                                      S3|T1 appends logs                          
                                                                      from S2| logLen:                            
                                                                      2[AppendEntry]                              
                                               S2|T1 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 2                                                                                           
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            2                     
                                                                                            S4|T1 appends logs    
                                                                                            from S2| logLen:      
                                                                                            2[AppendEntry]        
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
S0|T1 is not leader                                                                                               
                                                                                            S4|T1 is not leader   
                                                                      S3|T1 is not leader                         
                        S1|T1 is not leader                                                                       
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        2                                                                                         
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      2                                           
                                                                      S3|T1 appends logs                          
                                                                      from S2| logLen:                            
                                                                      2[AppendEntry]                              
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            2                     
                                                                                            S4|T1 appends logs    
                                                                                            from S2| logLen:      
                                                                                            2[AppendEntry]        
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 2                                                                                           
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                                               S2|T1 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                               S2|T1 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                                                      S3|T1 is not leader                         
                                                                                            S4|T1 is not leader   
S0|T1 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      2                                           
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        2                                                                                         
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        2[AppendEntry]                                                                            
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 2                                                                                           
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            2                     
                                                                                            S4|T1 appends logs    
                                                                                            from S2| logLen:      
                                                                                            2[AppendEntry]        
                                                                      S3|T1 appends logs                          
                                                                      from S2| logLen:                            
                                                                      2[AppendEntry]                              
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                                               S2|T1 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                        S1|T1 is not leader                                                                       
                                                                                            S4|T1 is not leader   
                                                                      S3|T1 is not leader                         
S0|T1 is not leader                                                                                               
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        2                                                                                         
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 2                                                                                           
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            2                     
                                                                                            S4|T1 appends logs    
                                                                                            from S2| logLen:      
                                                                                            2[AppendEntry]        
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      2                                           
                                                                      S3|T1 appends logs                          
                                                                      from S2| logLen:                            
                                                                      2[AppendEntry]                              
                                               S2|T1 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               3                                                                  
                                               S2|T1 receive commands                                             
                                               | logLen: 3[Start]                                                 
S0|T1 is not leader                                                                                               
                                                                      S3|T1 is not leader                         
                                                                                            S4|T1 is not leader   
                        S1|T1 is not leader                                                                       
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 3                                                                                           
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
3[AppendEntry]                                                                                                    
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        3                                                                                         
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        3[AppendEntry]                                                                            
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:1|                                                 
                                               matchidx:2| nextidx:3                                              
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:1|                                                 
                                               matchidx:2| nextidx:3                                              
                                               S2|T1 update                                                       
                                               commitIndex as 2                                                   
                                               S2|T1 apply entries                                                
                                               [2:2][ApplyEntry]                                                  
S0|T1 is not leader                                                                                               
                                                                      S3|T1 is not leader                         
                        S1|T1 is not leader                                                                       
                                                                                            S4|T1 is not leader   
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 3                                                                                           
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
3[AppendEntry]                                                                                                    
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        3                                                                                         
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        3[AppendEntry]                                                                            
S0|T1 apply entries                                                                                               
[2:2][ApplyEntry]                                                                                                 
                        S1|T1 apply entries                                                                       
                        [2:2][ApplyEntry]                                                                         
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:2| nextidx:3                                              
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:2| nextidx:3                                              
                                                                      S3|T0 is made                               
                                                                      S3|T1 read persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      2                                           
                                                                                            S4|T0 is made         
                                                                                            S4|T1 read persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            2                     
                        S1|T1 is not leader                                                                       
                                                                      S3|T1 is not leader                         
S0|T1 is not leader                                                                                               
                                                                                            S4|T1 is not leader   
                                                                      S3|T1 is not leader                         
                                                                                            S4|T1 is not leader   
                        S1|T1 is not leader                                                                       
S0|T1 is not leader                                                                                               
                                                                                            S4|T1 is not leader   
                                                                      S3|T1 is not leader                         
                        S1|T1 is not leader                                                                       
S0|T1 is not leader                                                                                               
                                                                      S3|T1 is not leader                         
                                                                                            S4|T1 is not leader   
S0|T1 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
                                                                                            S4|T1 is not leader   
                                                                      S3|T1 is not leader                         
S0|T1 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
                                                                      S3|T1 is not leader                         
                                                                                            S4|T1 is not leader   
                                                                                            S4|T2 starts to join  
                                                                                            election              
                                                                                            S4|T2 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            2                     
                                                                      S3|T2 save persist|                         
                                                                      votedFor: -1|                               
                                                                      logsLen: 2                                  
                                                                      S3|T2 save persist|                         
                                                                      votedFor: 4| logsLen:                       
                                                                      2                                           
                                                                      S3|T2 votes for                             
                                                                      S4[RequestVote]                             
                        S1|T1 is not leader                                                                       
S0|T1 is not leader                                                                                               
                                                                      S3|T2 is not leader                         
                                                                                            S4|T2 is not leader   
S0|T1 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
                                                                      S3|T2 is not leader                         
                                                                                            S4|T2 is not leader   
                        S1|T1 is not leader                                                                       
S0|T1 is not leader                                                                                               
                                                                      S3|T2 is not leader                         
                                                                                            S4|T2 is not leader   
S0|T2 starts to join                                                                                              
election                                                                                                          
S0|T2 save persist|                                                                                               
votedFor: 0| logsLen: 3                                                                                           
S0|T2 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
                                                                                            S4|T2 is not leader   
                                                                      S3|T2 is not leader                         
S0|T2 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
S0|T0 is made                                                                                                     
S0|T2 read persist|                                                                                               
votedFor: 0| logsLen: 3                                                                                           
                                                                      S3|T2 is not leader                         
                                                                                            S4|T2 is not leader   
                        S1|T1 is not leader                                                                       
S0|T2 is not leader                                                                                               
S0|T2 is not leader                                                                                               
                                                                                            S4|T2 is not leader   
                                                                      S3|T2 is not leader                         
                                                                                            S4|T3 starts to join  
                                                                                            election              
                                                                                            S4|T3 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            2                     
                                                                      S3|T3 save persist|                         
                                                                      votedFor: -1|                               
                                                                      logsLen: 2                                  
                                                                      S3|T3 save persist|                         
                                                                      votedFor: 4| logsLen:                       
                                                                      2                                           
                                                                      S3|T3 votes for                             
                                                                      S4[RequestVote]                             
S0|T3 save persist|                                                                                               
votedFor: -1| logsLen:                                                                                            
3                                                                                                                 
S0 rejects to vote for                                                                                            
S4 because it has voted                                                                                           
or it is more                                                                                                     
up-dated[RequestVote]                                                                                             
                        S1|T2 starts to join                                                                      
                        election                                                                                  
                        S1|T2 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        3                                                                                         
                        S1|T2 is not leader                                                                       
S0|T3 is not leader                                                                                               
                                                                      S3|T3 is not leader                         
                                                                                            S4|T3 is not leader   
                        S1|T2 is not leader                                                                       
S0|T3 is not leader                                                                                               
                                                                                            S4|T3 is not leader   
                                                                      S3|T3 is not leader                         
S0|T3 is not leader                                                                                               
                        S1|T2 is not leader                                                                       
                                                                                            S4|T3 is not leader   
                                                                      S3|T3 is not leader                         
                        S1|T2 is not leader                                                                       
S0|T3 is not leader                                                                                               
S0|T4 starts to join                                                                                              
election                                                                                                          
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 3                                                                                           
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: -1| logsLen:
                                                                                            2                     
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            2                     
                                                                                            S4|T4 votes for       
                                                                                            S0[RequestVote]       
                                                                      S3|T4 save persist|                         
                                                                      votedFor: -1|                               
                                                                      logsLen: 2                                  
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      2                                           
                                                                      S3|T4 votes for                             
                                                                      S0[RequestVote]                             
S0|T4 becomes the                                                                                                 
leader, and starts                                                                                                
heatbeats                                                                                                         
                                                                                            S4|T4 rejects to      
                                                                                            append entries from S0
                                                                                            | short               
                                                                                            log[AppendEntry]      
                                                                      S3|T4 rejects to                            
                                                                      append entries from                         
                                                                      S0 | short                                  
                                                                      log[AppendEntry]                            
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            3                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            3[AppendEntry]        
S0|T4 replica entries                                                                                             
to S4| entrylen:1|                                                                                                
matchidx:2| nextidx:3                                                                                             
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      3                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      3[AppendEntry]                              
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
S0|T4 replica entries                                                                                             
to S3| entrylen:1|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 4                                                                                           
S0|T4 receive commands                                                                                            
| logLen: 4[Start]                                                                                                
                        S1|T2 is not leader                                                                       
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S4| entrylen:1|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:1|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 update                                                                                                      
commitIndex as 3                                                                                                  
S0|T4 apply entries                                                                                               
[1:3][ApplyEntry]                                                                                                 
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                        S1|T2 is not leader                                                                       
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                                                                                            S4|T4 apply entries   
                                                                                            [1:3][ApplyEntry]     
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 apply entries                         
                                                                      [1:3][ApplyEntry]                           
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                                               S2|T1 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T1 receive commands                                             
                                               | logLen: 4[Start]                                                 
                        S1|T2 is not leader                                                                       
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        3                                                                                         
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                                                                            S4|T4 rejects to      
                                                                                            append entries from S2
                                                                                            | out of date         
                                                                                            term[AppendEntry]     
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                                               S2|T4 lost leadership,                                             
                                               state: 0                                                           
                                               S2|T4 apply entries                                                
                                               [3:3][ApplyEntry]                                                  
                        S1|T4 apply entries                                                                       
                        [3:3][ApplyEntry]                                                                         
S0|T4 rejects to append                                                                                           
entries from S2 | out                                                                                             
of date                                                                                                           
term[AppendEntry]                                                                                                 
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S1| entrylen:1|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:1|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T4 lost leadership,                                             
                                               state: 0                                                           
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T4 lost leadership,                                             
                                               state: 0                                                           
                                               S2|T4 lost leadership,                                             
                                               state: 0                                                           
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            4                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            4[AppendEntry]        
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        4[AppendEntry]                                                                            
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      4                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      4[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 5                                                                                           
S0|T4 receive commands                                                                                            
| logLen: 5[Start]                                                                                                
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            5                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            5[AppendEntry]        
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               5                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               5[AppendEntry]                                                     
S0|T4 replica entries                                                                                             
to S4| entrylen:1|                                                                                                
matchidx:4| nextidx:5                                                                                             
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        5[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S2| entrylen:1|                                                                                                
matchidx:4| nextidx:5                                                                                             
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      5                                           
                                                                                            S4|T4 is not leader   
S0|T4 replica entries                                                                                             
to S1| entrylen:1|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 update                                                                                                      
commitIndex as 4                                                                                                  
S0|T4 update                                                                                                      
commitIndex as 4                                                                                                  
S0|T4 apply entries                                                                                               
[4:4][ApplyEntry]                                                                                                 
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      5[AppendEntry]                              
S0|T4 apply entries                                                                                               
[5:4][ApplyEntry]                                                                                                 
                                                                      S3|T4 is not leader                         
S0|T4 replica entries                                                                                             
to S3| entrylen:1|                                                                                                
matchidx:4| nextidx:5                                                                                             
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            5                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            5[AppendEntry]        
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               5                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               5[AppendEntry]                                                     
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        5                                                                                         
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                                                                                            S4|T4 apply entries   
                                                                                            [4:4][ApplyEntry]     
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      5                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      5[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        5[AppendEntry]                                                                            
                                               S2|T4 apply entries                                                
                                               [4:4][ApplyEntry]                                                  
                                                                      S3|T4 apply entries                         
                                                                      [4:4][ApplyEntry]                           
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                        S1|T4 apply entries                                                                       
                        [4:4][ApplyEntry]                                                                         
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                                                                                            S4|T4 is not leader   
                                               S2|T4 is not leader                                                
                                                                      S3|T4 is not leader                         
                        S1|T4 is not leader                                                                       
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            5                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            5[AppendEntry]        
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               5                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               5[AppendEntry]                                                     
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        5[AppendEntry]                                                                            
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      5                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      5[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                                               S2|T4 is not leader                                                
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        5[AppendEntry]                                                                            
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            5                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            5[AppendEntry]        
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               5                                                                  
                        S1|T4 is not leader                                                                       
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               5[AppendEntry]                                                     
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      5                                           
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      5[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                                                                                            S4|T4 is not leader   
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            5                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            5[AppendEntry]        
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      5                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      5[AppendEntry]                              
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               5                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               5[AppendEntry]                                                     
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        5[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            5                     
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               5                                                                  
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            5[AppendEntry]        
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               5[AppendEntry]                                                     
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      5                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      5[AppendEntry]                              
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        5[AppendEntry]                                                                            
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 is not leader   
                        S1|T4 is not leader                                                                       
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            5                     
                                               S2|T4 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               5                                                                  
                                               S2|T4 appends logs                                                 
                                               from S0| logLen:                                                   
                                               5[AppendEntry]                                                     
                        S1|T4 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        5                                                                                         
                        S1|T4 appends logs                                                                        
                        from S0| logLen:                                                                          
                        5[AppendEntry]                                                                            
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      5                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      5[AppendEntry]                              
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            5[AppendEntry]        
S0|T4 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T4 save persist|                                                                                               
votedFor: 0| logsLen: 6                                                                                           
S0|T4 receive commands                                                                                            
| logLen: 6[Start]                                                                                                
                                                                      S3|T4 is not leader                         
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      6                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      6[AppendEntry]                              
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            6                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            6[AppendEntry]        
S0|T4 replica entries                                                                                             
to S3| entrylen:1|                                                                                                
matchidx:5| nextidx:6                                                                                             
S0|T4 replica entries                                                                                             
to S4| entrylen:1|                                                                                                
matchidx:5| nextidx:6                                                                                             
S0|T4 update                                                                                                      
commitIndex as 5                                                                                                  
S0|T4 apply entries                                                                                               
[5:5][ApplyEntry]                                                                                                 
                                                                      S3|T4 is not leader                         
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 save persist|                         
                                                                      votedFor: 0| logsLen:                       
                                                                      6                                           
                                                                      S3|T4 appends logs                          
                                                                      from S0| logLen:                            
                                                                      6[AppendEntry]                              
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            6                     
                                                                                            S4|T4 appends logs    
                                                                                            from S0| logLen:      
                                                                                            6[AppendEntry]        
S0|T4 replica entries                                                                                             
to S3| entrylen:0|                                                                                                
matchidx:5| nextidx:6                                                                                             
                                                                      S3|T4 apply entries                         
                                                                      [5:5][ApplyEntry]                           
                                                                                            S4|T4 apply entries   
                                                                                            [5:5][ApplyEntry]     
S0|T4 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:5| nextidx:6                                                                                             
                        S1|T0 is made                                                                             
                        S1|T4 read persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        5                                                                                         
                                               S2|T0 is made                                                      
                                               S2|T4 read persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               5                                                                  
                                               S2|T4 is not leader                                                
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                                                                            S4|T4 is not leader   
                                                                      S3|T4 is not leader                         
                                               S2|T4 is not leader                                                
                        S1|T4 is not leader                                                                       
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                        S1|T4 is not leader                                                                       
                                               S2|T4 is not leader                                                
                        S1|T5 starts to join                                                                      
                        election                                                                                  
                        S1|T5 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        5                                                                                         
                                               S2|T5 save persist|                                                
                                               votedFor: -1| logsLen:                                             
                                               5                                                                  
                                               S2|T5 save persist|                                                
                                               votedFor: 1| logsLen:                                              
                                               5                                                                  
                                               S2|T5 votes for                                                    
                                               S1[RequestVote]                                                    
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                                               S2|T5 is not leader                                                
                        S1|T5 is not leader                                                                       
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                        S1|T5 is not leader                                                                       
                                               S2|T5 is not leader                                                
                                                                      S3|T4 is not leader                         
                                                                                            S4|T4 is not leader   
                                               S2|T5 is not leader                                                
                        S1|T5 is not leader                                                                       
                                                                      S3|T5 starts to join                        
                                                                      election                                    
                                                                      S3|T5 save persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      6                                           
                                                                                            S4|T4 is not leader   
                                                                      S3|T5 is not leader                         
                        S1|T5 is not leader                                                                       
                                               S2|T5 is not leader                                                
                                                                                            S4|T4 is not leader   
                                                                      S3|T5 is not leader                         
                                                                      S3|T0 is made                               
                                                                      S3|T5 read persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      6                                           
                                               S2|T5 is not leader                                                
                        S1|T5 is not leader                                                                       
                                               S2|T6 starts to join                                               
                                               election                                                           
                                               S2|T6 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               5                                                                  
                        S1|T6 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        5                                                                                         
                                                                      S3|T6 save persist|                         
                                                                      votedFor: -1|                               
                                                                      logsLen: 6                                  
                        S1|T6 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        5                                                                                         
                                                                      S3 rejects to vote                          
                                                                      for S2 because it has                       
                                                                      voted or it is more                         
                                                                      up-dated[RequestVote]                       
                        S1|T6 votes for                                                                           
                        S2[RequestVote]                                                                           
                                                                                            S4|T5 starts to join  
                                                                                            election              
                                                                                            S4|T5 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            6                     
                                                                                            S4|T5 is not leader   
                                                                      S3|T6 is not leader                         
                        S1|T6 is not leader                                                                       
                                               S2|T6 is not leader                                                
                                                                      S3|T6 is not leader                         
                                                                                            S4|T5 is not leader   
                                               S2|T6 is not leader                                                
                        S1|T6 is not leader                                                                       
                                                                      S3|T6 is not leader                         
                                                                                            S4|T5 is not leader   
                                               S2|T6 is not leader                                                
                        S1|T6 is not leader                                                                       
                                                                                            S4|T5 is not leader   
                                                                      S3|T6 is not leader                         
                                               S2|T6 is not leader                                                
                        S1|T6 is not leader                                                                       
                                                                      S3|T6 is not leader                         
                                                                                            S4|T5 is not leader   
                                               S2|T6 is not leader                                                
                        S1|T6 is not leader                                                                       
                                                                      S3|T7 starts to join                        
                                                                      election                                    
                                                                      S3|T7 save persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      6                                           
                                               S2|T7 save persist|                                                
                                               votedFor: -1| logsLen:                                             
                                               5                                                                  
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               5                                                                  
                                               S2|T7 votes for                                                    
                                               S3[RequestVote]                                                    
                        S1|T7 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        5                                                                                         
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        5                                                                                         
                        S1|T7 votes for                                                                           
                        S3[RequestVote]                                                                           
                                                                      S3|T7 becomes the                           
                                                                      leader, and starts                          
                                                                      heatbeats                                   
                                               S2|T7 rejects to                                                   
                                               append entries from S3                                             
                                               | short                                                            
                                               log[AppendEntry]                                                   
                        S1|T7 rejects to                                                                          
                        append entries from S3                                                                    
                        | short                                                                                   
                        log[AppendEntry]                                                                          
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               6                                                                  
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               6[AppendEntry]                                                     
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:1|                          
                                                                      matchidx:5| nextidx:6                       
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        6                                                                                         
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        6[AppendEntry]                                                                            
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:1|                          
                                                                      matchidx:5| nextidx:6                       
                                                                                            S4|T5 is not leader   
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        6                                                                                         
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               6                                                                  
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               6[AppendEntry]                                                     
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        6[AppendEntry]                                                                            
                                                                      S3|T7 save persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      7                                           
                                                                      S3|T7 receive                               
                                                                      commands | logLen:                          
                                                                      7[Start]                                    
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:0|                          
                                                                      matchidx:5| nextidx:6                       
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:5| nextidx:6                       
                        S1|T7 is not leader                                                                       
                                               S2|T7 is not leader                                                
                                                                                            S4|T5 is not leader   
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        7                                                                                         
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        7[AppendEntry]                                                                            
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               7                                                                  
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               7[AppendEntry]                                                     
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:1|                          
                                                                      matchidx:6| nextidx:7                       
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:1|                          
                                                                      matchidx:6| nextidx:7                       
                                                                      S3|T7 update                                
                                                                      commitIndex as 6                            
                                                                      S3|T7 apply entries                         
                                                                      [1:6][ApplyEntry]                           
                                               S2|T7 is not leader                                                
                        S1|T7 is not leader                                                                       
                                                                                            S4|T5 is not leader   
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        7                                                                                         
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        7[AppendEntry]                                                                            
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               7                                                                  
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:6| nextidx:7                       
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               7[AppendEntry]                                                     
                        S1|T7 apply entries                                                                       
                        [1:6][ApplyEntry]                                                                         
                                               S2|T7 apply entries                                                
                                               [1:6][ApplyEntry]                                                  
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:0|                          
                                                                      matchidx:6| nextidx:7                       
                        S1|T7 is not leader                                                                       
                                               S2|T7 is not leader                                                
                                                                      S3|T7 save persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      8                                           
                                                                      S3|T7 receive                               
                                                                      commands | logLen:                          
                                                                      8[Start]                                    
                                                                                            S4|T5 is not leader   
                                                                                            S4|T5 rejects to      
                                                                                            append entries from S0
                                                                                            | out of date         
                                                                                            term[AppendEntry]     
                        S1|T7 rejects to                                                                          
                        append entries from S0                                                                    
                        | out of date                                                                             
                        term[AppendEntry]                                                                         
S0|T7 save persist|                                                                                               
votedFor: 0| logsLen: 6                                                                                           
S0|T7 save persist|                                                                                               
votedFor: 0| logsLen: 8                                                                                           
S0|T7 appends logs from                                                                                           
S3| logLen:                                                                                                       
8[AppendEntry]                                                                                                    
S0|T7 lost leadership,                                                                                            
state: 0                                                                                                          
S0|T7 apply entries                                                                                               
[6:6][ApplyEntry]                                                                                                 
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            6                     
S0|T7 lost leadership,                                                                                            
state: 0                                                                                                          
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               8                                                                  
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               8[AppendEntry]                                                     
                                                                      S3|T7 replica entries                       
                                                                      to S0| entrylen:2|                          
                                                                      matchidx:7| nextidx:8                       
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        8                                                                                         
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        8[AppendEntry]                                                                            
S0|T7 lost leadership,                                                                                            
state: 0                                                                                                          
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:1|                          
                                                                      matchidx:7| nextidx:8                       
S0|T7 lost leadership,                                                                                            
state: 0                                                                                                          
                                                                      S3|T7 update                                
                                                                      commitIndex as 7                            
                                                                      S3|T7 apply entries                         
                                                                      [7:7][ApplyEntry]                           
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            8                     
                        S1|T7 is not leader                                                                       
                                                                                            S4|T7 appends logs    
                                                                                            from S3| logLen:      
                                                                                            8[AppendEntry]        
                                               S2|T7 is not leader                                                
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:1|                          
                                                                      matchidx:7| nextidx:8                       
                                                                                            S4|T7 apply entries   
                                                                                            [6:6][ApplyEntry]     
                                                                      S3|T7 replica entries                       
                                                                      to S4| entrylen:2|                          
                                                                      matchidx:7| nextidx:8                       
                                                                                            S4|T7 is not leader   
S0|T7 is not leader                                                                                               
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        8                                                                                         
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            8                     
                                                                                            S4|T7 appends logs    
                                                                                            from S3| logLen:      
                                                                                            8[AppendEntry]        
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               8                                                                  
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        8[AppendEntry]                                                                            
S0|T7 save persist|                                                                                               
votedFor: 0| logsLen: 8                                                                                           
S0|T7 appends logs from                                                                                           
S3| logLen:                                                                                                       
8[AppendEntry]                                                                                                    
                                                                      S3|T7 replica entries                       
                                                                      to S4| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               8[AppendEntry]                                                     
                        S1|T7 apply entries                                                                       
                        [7:7][ApplyEntry]                                                                         
                                                                                            S4|T7 apply entries   
                                                                                            [7:7][ApplyEntry]     
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                               S2|T7 apply entries                                                
                                               [7:7][ApplyEntry]                                                  
                                                                      S3|T7 replica entries                       
                                                                      to S0| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
S0|T7 apply entries                                                                                               
[7:7][ApplyEntry]                                                                                                 
                        S1|T7 is not leader                                                                       
                                               S2|T7 is not leader                                                
S0|T7 is not leader                                                                                               
                                                                                            S4|T7 is not leader   
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            8                     
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        8                                                                                         
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        8[AppendEntry]                                                                            
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               8                                                                  
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               8[AppendEntry]                                                     
                        S1|T7 is not leader                                                                       
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                               S2|T7 is not leader                                                
                                                                                            S4|T7 appends logs    
                                                                                            from S3| logLen:      
                                                                                            8[AppendEntry]        
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
S0|T7 save persist|                                                                                               
votedFor: 0| logsLen: 8                                                                                           
S0|T7 appends logs from                                                                                           
S3| logLen:                                                                                                       
8[AppendEntry]                                                                                                    
                                                                      S3|T7 replica entries                       
                                                                      to S4| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                                                      S3|T7 replica entries                       
                                                                      to S0| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                                                                            S4|T7 is not leader   
S0|T7 is not leader                                                                                               
                        S1|T7 is not leader                                                                       
                                               S2|T7 is not leader                                                
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            8                     
                                                                                            S4|T7 appends logs    
                                                                                            from S3| logLen:      
                                                                                            8[AppendEntry]        
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        8                                                                                         
S0|T7 save persist|                                                                                               
votedFor: 0| logsLen: 8                                                                                           
S0|T7 appends logs from                                                                                           
S3| logLen:                                                                                                       
8[AppendEntry]                                                                                                    
                                                                      S3|T7 replica entries                       
                                                                      to S4| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        8[AppendEntry]                                                                            
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               8                                                                  
                                                                      S3|T7 replica entries                       
                                                                      to S0| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               8[AppendEntry]                                                     
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                               S2|T7 is not leader                                                
                                                                                            S4|T7 is not leader   
S0|T7 is not leader                                                                                               
                        S1|T7 is not leader                                                                       
S0|T7 save persist|                                                                                               
votedFor: 0| logsLen: 8                                                                                           
S0|T7 appends logs from                                                                                           
S3| logLen:                                                                                                       
8[AppendEntry]                                                                                                    
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        8                                                                                         
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        8[AppendEntry]                                                                            
                                                                      S3|T7 replica entries                       
                                                                      to S0| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               8                                                                  
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               8[AppendEntry]                                                     
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            8                     
                                                                                            S4|T7 appends logs    
                                                                                            from S3| logLen:      
                                                                                            8[AppendEntry]        
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                                                      S3|T7 replica entries                       
                                                                      to S4| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                        S1|T7 is not leader                                                                       
                                                                                            S4|T7 is not leader   
                                               S2|T7 is not leader                                                
S0|T7 is not leader                                                                                               
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            8                     
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        8                                                                                         
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               8                                                                  
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               8[AppendEntry]                                                     
                                                                                            S4|T7 appends logs    
                                                                                            from S3| logLen:      
                                                                                            8[AppendEntry]        
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
S0|T7 save persist|                                                                                               
votedFor: 0| logsLen: 8                                                                                           
S0|T7 appends logs from                                                                                           
S3| logLen:                                                                                                       
8[AppendEntry]                                                                                                    
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        8[AppendEntry]                                                                            
                                                                      S3|T7 replica entries                       
                                                                      to S0| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                                                      S3|T7 replica entries                       
                                                                      to S4| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                               S2|T7 is not leader                                                
                        S1|T7 is not leader                                                                       
S0|T7 is not leader                                                                                               
                                                                                            S4|T7 is not leader   
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            8                     
                                                                                            S4|T7 appends logs    
                                                                                            from S3| logLen:      
                                                                                            8[AppendEntry]        
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               8                                                                  
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               8[AppendEntry]                                                     
S0|T7 save persist|                                                                                               
votedFor: 0| logsLen: 8                                                                                           
S0|T7 appends logs from                                                                                           
S3| logLen:                                                                                                       
8[AppendEntry]                                                                                                    
                                                                      S3|T7 replica entries                       
                                                                      to S4| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        8                                                                                         
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        8[AppendEntry]                                                                            
                                                                      S3|T7 replica entries                       
                                                                      to S0| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:7| nextidx:8                       
                                                                      S3|T7 save persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      9                                           
                                                                      S3|T7 receive                               
                                                                      commands | logLen:                          
                                                                      9[Start]                                    
                                                                                            S4|T7 is not leader   
S0|T7 is not leader                                                                                               
                                               S2|T7 is not leader                                                
                        S1|T7 is not leader                                                                       
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               9                                                                  
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               9[AppendEntry]                                                     
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        9                                                                                         
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        9[AppendEntry]                                                                            
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:1|                          
                                                                      matchidx:8| nextidx:9                       
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:1|                          
                                                                      matchidx:8| nextidx:9                       
                                                                      S3|T7 update                                
                                                                      commitIndex as 8                            
                                                                      S3|T7 apply entries                         
                                                                      [8:8][ApplyEntry]                           
                        S1|T7 is not leader                                                                       
S0|T7 is not leader                                                                                               
                                                                                            S4|T7 is not leader   
                                               S2|T7 is not leader                                                
                                               S2|T7 save persist|                                                
                                               votedFor: 3| logsLen:                                              
                                               9                                                                  
                                               S2|T7 appends logs                                                 
                                               from S3| logLen:                                                   
                                               9[AppendEntry]                                                     
                        S1|T7 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        9                                                                                         
                        S1|T7 appends logs                                                                        
                        from S3| logLen:                                                                          
                        9[AppendEntry]                                                                            
                                               S2|T7 apply entries                                                
                                               [8:8][ApplyEntry]                                                  
                                                                      S3|T7 replica entries                       
                                                                      to S2| entrylen:0|                          
                                                                      matchidx:8| nextidx:9                       
                        S1|T7 apply entries                                                                       
                        [8:8][ApplyEntry]                                                                         
                                                                      S3|T7 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:8| nextidx:9                       
                                                                                            S4|T0 is made         
                                                                                            S4|T7 read persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            8                     
S0|T0 is made                                                                                                     
S0|T7 read persist|                                                                                               
votedFor: 0| logsLen: 8                                                                                           
                                                                                            S4|T7 is not leader   
                                               S2|T7 is not leader                                                
                        S1|T7 is not leader                                                                       
S0|T7 is not leader                                                                                               
S0|T7 is not leader                                                                                               
                                                                                            S4|T7 is not leader   
                                               S2|T7 is not leader                                                
                        S1|T7 is not leader                                                                       
S0|T7 is not leader                                                                                               
                                                                                            S4|T7 is not leader   
                                               S2|T7 is not leader                                                
                        S1|T7 is not leader                                                                       
                                                                                            S4|T7 is not leader   
S0|T7 is not leader                                                                                               
                                               S2|T7 is not leader                                                
                        S1|T7 is not leader                                                                       
                                                                                            S4|T7 is not leader   
S0|T7 is not leader                                                                                               
                        S1|T7 is not leader                                                                       
                                               S2|T7 is not leader                                                
                                                                                            S4|T7 is not leader   
S0|T7 is not leader                                                                                               
                        S1|T8 starts to join                                                                      
                        election                                                                                  
                        S1|T8 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        9                                                                                         
S0|T8 starts to join                                                                                              
election                                                                                                          
S0|T8 save persist|                                                                                               
votedFor: 0| logsLen: 8                                                                                           
                                                                                            S4|T8 save persist|   
                                                                                            votedFor: -1| logsLen:
                                                                                            8                     
                                                                                            S4|T8 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            8                     
                                                                                            S4|T8 votes for       
                                                                                            S0[RequestVote]       
                                                                                            S4|T8 is not leader   
S0|T8 is not leader                                                                                               
                                               S2|T7 is not leader                                                
                        S1|T8 is not leader                                                                       
                        S1|T8 is not leader                                                                       
                                                                                            S4|T8 is not leader   
S0|T8 is not leader                                                                                               
                                               S2|T7 is not leader                                                
                                               S2|T8 starts to join                                               
                                               election                                                           
                                               S2|T8 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               9                                                                  
S0|T8 is not leader                                                                                               
                                               S2|T8 is not leader                                                
                        S1|T8 is not leader                                                                       
                                                                                            S4|T8 is not leader   
                                                                                            S4|T8 is not leader   
                        S1|T8 is not leader                                                                       
                                               S2|T8 is not leader                                                
S0|T8 is not leader                                                                                               
                        S1|T0 is made                                                                             
                        S1|T8 read persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        9                                                                                         
                                                                                            S4|T8 is not leader   
                        S1|T8 is not leader                                                                       
                                               S2|T8 is not leader                                                
S0|T8 is not leader                                                                                               
                        S1|T8 is not leader                                                                       
S0|T8 is not leader                                                                                               
                                               S2|T8 is not leader                                                
                                                                                            S4|T8 is not leader   
                                                                                            S4|T9 starts to join  
                                                                                            election              
                                                                                            S4|T9 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            8                     
S0|T9 save persist|                                                                                               
votedFor: -1| logsLen:                                                                                            
8                                                                                                                 
S0|T9 save persist|                                                                                               
votedFor: 4| logsLen: 8                                                                                           
S0|T9 votes for                                                                                                   
S4[RequestVote]                                                                                                   
                        S1|T9 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        9                                                                                         
                        S1 rejects to vote for                                                                    
                        S4 because it has                                                                         
                        voted or it is more                                                                       
                        up-dated[RequestVote]                                                                     
                        S1|T9 is not leader                                                                       
S0|T9 is not leader                                                                                               
                                               S2|T8 is not leader                                                
                                                                                            S4|T9 is not leader   
                        S1|T9 is not leader                                                                       
S0|T9 is not leader                                                                                               
                                               S2|T8 is not leader                                                
                                                                                            S4|T9 is not leader   
                        S1|T9 is not leader                                                                       
                                               S2|T8 is not leader                                                
S0|T9 is not leader                                                                                               
                                                                                            S4|T9 is not leader   
                        S1|T9 is not leader                                                                       
S0|T9 is not leader                                                                                               
                                                                                            S4|T9 is not leader   
                                               S2|T8 is not leader                                                
                        S1|T9 is not leader                                                                       
S0|T9 is not leader                                                                                               
                                               S2|T8 is not leader                                                
                                                                                            S4|T9 is not leader   
                        S1|T10 starts to join                                                                     
                        election                                                                                  
                        S1|T10 save persist|                                                                      
                        votedFor: 1| logsLen:                                                                     
                        9                                                                                         
S0|T10 save persist|                                                                                              
votedFor: -1| logsLen:                                                                                            
8                                                                                                                 
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen: 8                                                                                           
S0|T10 votes for                                                                                                  
S1[RequestVote]                                                                                                   
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: -1| logsLen:
                                                                                            8                     
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            8                     
                                                                                            S4|T10 votes for      
                                                                                            S1[RequestVote]       
                        S1|T10 becomes the                                                                        
                        leader, and starts                                                                        
                        heatbeats                                                                                 
                                                                                            S4|T10 rejects to     
                                                                                            append entries from S1
                                                                                            | short               
                                                                                            log[AppendEntry]      
S0|T10 rejects to                                                                                                 
append entries from S1                                                                                            
| short                                                                                                           
log[AppendEntry]                                                                                                  
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            9                     
                                                                                            S4|T10 appends logs   
                                                                                            from S1| logLen:      
                                                                                            9[AppendEntry]        
                        S1|T10 replica entries                                                                    
                        to S4| entrylen:1|                                                                        
                        matchidx:8| nextidx:9                                                                     
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen: 9                                                                                           
S0|T10 appends logs                                                                                               
from S1| logLen:                                                                                                  
9[AppendEntry]                                                                                                    
                        S1|T10 replica entries                                                                    
                        to S0| entrylen:1|                                                                        
                        matchidx:8| nextidx:9                                                                     
                        S1|T10 save persist|                                                                      
                        votedFor: 1| logsLen:                                                                     
                        10                                                                                        
                        S1|T10 receive                                                                            
                        commands | logLen:                                                                        
                        10[Start]                                                                                 
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            10                    
                                                                                            S4|T10 appends logs   
                                                                                            from S1| logLen:      
                                                                                            10[AppendEntry]       
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen:                                                                                             
10                                                                                                                
S0|T10 appends logs                                                                                               
from S1| logLen:                                                                                                  
10[AppendEntry]                                                                                                   
                        S1|T10 replica entries                                                                    
                        to S4| entrylen:1|                                                                        
                        matchidx:9| nextidx:10                                                                    
                        S1|T10 replica entries                                                                    
                        to S0| entrylen:1|                                                                        
                        matchidx:9| nextidx:10                                                                    
                        S1|T10 update                                                                             
                        commitIndex as 9                                                                          
                        S1|T10 apply entries                                                                      
                        [1:9][ApplyEntry]                                                                         
S0|T10 is not leader                                                                                              
                                               S2|T8 is not leader                                                
                                                                                            S4|T10 is not leader  
S0|T10 is not leader                                                                                              
                                                                                            S4|T10 is not leader  
                                               S2|T8 is not leader                                                
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen:                                                                                             
10                                                                                                                
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            10                    
                                                                                            S4|T10 appends logs   
                                                                                            from S1| logLen:      
                                                                                            10[AppendEntry]       
S0|T10 appends logs                                                                                               
from S1| logLen:                                                                                                  
10[AppendEntry]                                                                                                   
                                                                                            S4|T10 apply entries  
                                                                                            [1:9][ApplyEntry]     
                        S1|T10 replica entries                                                                    
                        to S4| entrylen:0|                                                                        
                        matchidx:9| nextidx:10                                                                    
                        S1|T10 replica entries                                                                    
                        to S0| entrylen:0|                                                                        
                        matchidx:9| nextidx:10                                                                    
S0|T10 apply entries                                                                                              
[1:9][ApplyEntry]                                                                                                 
                        S1|T10 save persist|                                                                      
                        votedFor: 1| logsLen:                                                                     
                        11                                                                                        
                        S1|T10 receive                                                                            
                        commands | logLen:                                                                        
                        11[Start]                                                                                 
                                               S2|T9 starts to join                                               
                                               election                                                           
                                               S2|T9 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               9                                                                  
                                                                                            S4|T10 rejects to vote
                                                                                            for S2 | out of date  
                                                                                            term[RequestVote]     
                        S1|T10 rejects to vote                                                                    
                        for S2 | out of date                                                                      
                        term[RequestVote]                                                                         
                                                                      S3|T9 save persist|                         
                                                                      votedFor: -1|                               
                                                                      logsLen: 9                                  
                                                                      S3|T9 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      9                                           
                                               S2|T10 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               9                                                                  
                                               S2|T10 ends this round                                             
S0|T10 rejects to vote                                                                                            
for S2 | out of date                                                                                              
term[RequestVote]                                                                                                 
                                                                      S3|T9 votes for                             
                                                                      S2[RequestVote]                             
                                               S2|T10 ends this round                                             
                                               S2|T10 ends this round                                             
                                               S2|T10 is not leader                                               
                                                                      S3|T9 is not leader                         
                                                                                            S4|T10 is not leader  
S0|T10 is not leader                                                                                              
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            11                    
                                                                                            S4|T10 appends logs   
                                                                                            from S1| logLen:      
                                                                                            11[AppendEntry]       
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen:                                                                                             
11                                                                                                                
S0|T10 appends logs                                                                                               
from S1| logLen:                                                                                                  
11[AppendEntry]                                                                                                   
                                                                      S3|T10 save persist|                        
                                                                      votedFor: 2| logsLen:                       
                                                                      9                                           
                                                                      S3|T10 save persist|                        
                                                                      votedFor: 2| logsLen:                       
                                                                      11                                          
                                               S2|T10 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               11                                                                 
                                               S2|T10 appends logs                                                
                                               from S1| logLen:                                                   
                                               11[AppendEntry]                                                    
                        S1|T10 replica entries                                                                    
                        to S4| entrylen:1|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 replica entries                                                                    
                        to S0| entrylen:1|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 update                                                                             
                        commitIndex as 10                                                                         
                        S1|T10 update                                                                             
                        commitIndex as 10                                                                         
                                               S2|T10 apply entries                                               
                                               [9:9][ApplyEntry]                                                  
                        S1|T10 apply entries                                                                      
                        [10:10][ApplyEntry]                                                                       
                                                                      S3|T10 appends logs                         
                                                                      from S1| logLen:                            
                                                                      11[AppendEntry]                             
                        S1|T10 replica entries                                                                    
                        to S2| entrylen:2|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 apply entries                                                                      
                        [11:10][ApplyEntry]                                                                       
                                                                      S3|T10 apply entries                        
                                                                      [9:9][ApplyEntry]                           
                        S1|T10 replica entries                                                                    
                        to S3| entrylen:2|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
S0|T10 is not leader                                                                                              
                                                                                            S4|T10 is not leader  
                                               S2|T10 is not leader                                               
                                                                      S3|T10 is not leader                        
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            11                    
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen:                                                                                             
11                                                                                                                
S0|T10 appends logs                                                                                               
from S1| logLen:                                                                                                  
11[AppendEntry]                                                                                                   
                                               S2|T10 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               11                                                                 
                                               S2|T10 appends logs                                                
                                               from S1| logLen:                                                   
                                               11[AppendEntry]                                                    
S0|T10 apply entries                                                                                              
[10:10][ApplyEntry]                                                                                               
                                                                      S3|T10 save persist|                        
                                                                      votedFor: 2| logsLen:                       
                                                                      11                                          
                                                                      S3|T10 appends logs                         
                                                                      from S1| logLen:                            
                                                                      11[AppendEntry]                             
                        S1|T10 replica entries                                                                    
                        to S0| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 replica entries                                                                    
                        to S2| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                                                                                            S4|T10 appends logs   
                                                                                            from S1| logLen:      
                                                                                            11[AppendEntry]       
                                               S2|T10 apply entries                                               
                                               [10:10][ApplyEntry]                                                
                                                                      S3|T10 apply entries                        
                                                                      [10:10][ApplyEntry]                         
                        S1|T10 replica entries                                                                    
                        to S3| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                                                                                            S4|T10 apply entries  
                                                                                            [10:10][ApplyEntry]   
                        S1|T10 replica entries                                                                    
                        to S4| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                                               S2|T10 is not leader                                               
                                                                      S3|T10 is not leader                        
S0|T10 is not leader                                                                                              
                                                                                            S4|T10 is not leader  
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen:                                                                                             
11                                                                                                                
S0|T10 appends logs                                                                                               
from S1| logLen:                                                                                                  
11[AppendEntry]                                                                                                   
                                                                      S3|T10 save persist|                        
                                                                      votedFor: 2| logsLen:                       
                                                                      11                                          
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            11                    
                                               S2|T10 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               11                                                                 
                        S1|T10 replica entries                                                                    
                        to S0| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                                               S2|T10 appends logs                                                
                                               from S1| logLen:                                                   
                                               11[AppendEntry]                                                    
                                                                      S3|T10 appends logs                         
                                                                      from S1| logLen:                            
                                                                      11[AppendEntry]                             
                                                                                            S4|T10 appends logs   
                                                                                            from S1| logLen:      
                                                                                            11[AppendEntry]       
                        S1|T10 replica entries                                                                    
                        to S2| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 replica entries                                                                    
                        to S3| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 replica entries                                                                    
                        to S4| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                                                                                            S4|T10 is not leader  
                                               S2|T10 is not leader                                               
S0|T10 is not leader                                                                                              
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            11                    
                                               S2|T10 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               11                                                                 
                                               S2|T10 appends logs                                                
                                               from S1| logLen:                                                   
                                               11[AppendEntry]                                                    
                                                                                            S4|T10 appends logs   
                                                                                            from S1| logLen:      
                                                                                            11[AppendEntry]       
                        S1|T10 replica entries                                                                    
                        to S2| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                                                                      S3|T10 is not leader                        
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen:                                                                                             
11                                                                                                                
                                                                      S3|T10 save persist|                        
                                                                      votedFor: 2| logsLen:                       
                                                                      11                                          
S0|T10 appends logs                                                                                               
from S1| logLen:                                                                                                  
11[AppendEntry]                                                                                                   
                                                                      S3|T10 appends logs                         
                                                                      from S1| logLen:                            
                                                                      11[AppendEntry]                             
                        S1|T10 replica entries                                                                    
                        to S4| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 replica entries                                                                    
                        to S0| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 replica entries                                                                    
                        to S3| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                                                                      S3|T10 is not leader                        
S0|T10 is not leader                                                                                              
                                                                                            S4|T10 is not leader  
                                               S2|T10 is not leader                                               
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            11                    
                                                                                            S4|T10 appends logs   
                                                                                            from S1| logLen:      
                                                                                            11[AppendEntry]       
                                               S2|T10 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               11                                                                 
                                               S2|T10 appends logs                                                
                                               from S1| logLen:                                                   
                                               11[AppendEntry]                                                    
                                                                      S3|T10 save persist|                        
                                                                      votedFor: 2| logsLen:                       
                                                                      11                                          
                                                                      S3|T10 appends logs                         
                                                                      from S1| logLen:                            
                                                                      11[AppendEntry]                             
                        S1|T10 replica entries                                                                    
                        to S4| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen:                                                                                             
11                                                                                                                
                        S1|T10 replica entries                                                                    
                        to S2| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
S0|T10 appends logs                                                                                               
from S1| logLen:                                                                                                  
11[AppendEntry]                                                                                                   
                        S1|T10 replica entries                                                                    
                        to S3| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 replica entries                                                                    
                        to S0| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
S0|T10 is not leader                                                                                              
                                                                                            S4|T10 is not leader  
                                               S2|T10 is not leader                                               
                                                                      S3|T10 is not leader                        
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            11                    
                                               S2|T10 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               11                                                                 
                                               S2|T10 appends logs                                                
                                               from S1| logLen:                                                   
                                               11[AppendEntry]                                                    
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen:                                                                                             
11                                                                                                                
S0|T10 appends logs                                                                                               
from S1| logLen:                                                                                                  
11[AppendEntry]                                                                                                   
                                                                      S3|T10 save persist|                        
                                                                      votedFor: 2| logsLen:                       
                                                                      11                                          
                                                                      S3|T10 appends logs                         
                                                                      from S1| logLen:                            
                                                                      11[AppendEntry]                             
                        S1|T10 replica entries                                                                    
                        to S2| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                                                                                            S4|T10 appends logs   
                                                                                            from S1| logLen:      
                                                                                            11[AppendEntry]       
                        S1|T10 replica entries                                                                    
                        to S0| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 replica entries                                                                    
                        to S3| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 replica entries                                                                    
                        to S4| entrylen:0|                                                                        
                        matchidx:10|                                                                              
                        nextidx:11                                                                                
                        S1|T10 save persist|                                                                      
                        votedFor: 1| logsLen:                                                                     
                        12                                                                                        
                        S1|T10 receive                                                                            
                        commands | logLen:                                                                        
                        12[Start]                                                                                 
                                                                                            S4|T10 is not leader  
S0|T10 is not leader                                                                                              
                                                                      S3|T10 is not leader                        
                                               S2|T10 is not leader                                               
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            12                    
                                                                                            S4|T10 appends logs   
                                                                                            from S1| logLen:      
                                                                                            12[AppendEntry]       
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen:                                                                                             
12                                                                                                                
S0|T10 appends logs                                                                                               
from S1| logLen:                                                                                                  
12[AppendEntry]                                                                                                   
                        S1|T10 replica entries                                                                    
                        to S4| entrylen:1|                                                                        
                        matchidx:11|                                                                              
                        nextidx:12                                                                                
                        S1|T10 replica entries                                                                    
                        to S0| entrylen:1|                                                                        
                        matchidx:11|                                                                              
                        nextidx:12                                                                                
                        S1|T10 update                                                                             
                        commitIndex as 11                                                                         
                        S1|T10 apply entries                                                                      
                        [11:11][ApplyEntry]                                                                       
S0|T10 is not leader                                                                                              
                                                                                            S4|T10 is not leader  
                                               S2|T10 is not leader                                               
                                                                      S3|T10 is not leader                        
                                                                                            S4|T10 save persist|  
                                                                                            votedFor: 1| logsLen: 
                                                                                            12                    
                                                                                            S4|T10 appends logs   
                                                                                            from S1| logLen:      
                                                                                            12[AppendEntry]       
S0|T10 save persist|                                                                                              
votedFor: 1| logsLen:                                                                                             
12                                                                                                                
S0|T10 appends logs                                                                                               
from S1| logLen:                                                                                                  
12[AppendEntry]                                                                                                   
                                                                                            S4|T10 apply entries  
                                                                                            [11:11][ApplyEntry]   
S0|T10 apply entries                                                                                              
[11:11][ApplyEntry]                                                                                               
                        S1|T10 replica entries                                                                    
                        to S4| entrylen:0|                                                                        
                        matchidx:11|                                                                              
                        nextidx:12                                                                                
                        S1|T10 replica entries                                                                    
                        to S0| entrylen:0|                                                                        
                        matchidx:11|                                                                              
                        nextidx:12                                                                                
                                               S2|T0 is made                                                      
                                               S2|T10 read persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               11                                                                 
                                                                      S3|T0 is made                               
                                                                      S3|T10 read persist|                        
                                                                      votedFor: 2| logsLen:                       
                                                                      11                                          
                                                                      S3|T10 is not leader                        
S0|T10 is not leader                                                                                              
                                               S2|T10 is not leader                                               
                                                                                            S4|T10 is not leader  
                                                                      S3|T10 is not leader                        
                                               S2|T10 is not leader                                               
S0|T10 is not leader                                                                                              
                                                                                            S4|T10 is not leader  
                                                                      S3|T10 is not leader                        
                                               S2|T10 is not leader                                               
                                                                                            S4|T10 is not leader  
S0|T10 is not leader                                                                                              
                                                                      S3|T10 is not leader                        
                                               S2|T10 is not leader                                               
S0|T10 is not leader                                                                                              
                                                                                            S4|T10 is not leader  
                                               S2|T10 is not leader                                               
                                                                      S3|T10 is not leader                        
                                                                                            S4|T10 is not leader  
S0|T10 is not leader                                                                                              
                                                                      S3|T10 is not leader                        
                                               S2|T10 is not leader                                               
                                                                                            S4|T10 is not leader  
S0|T10 is not leader                                                                                              
                                               S2|T11 starts to join                                              
                                               election                                                           
                                               S2|T11 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               11                                                                 
                                                                      S3|T11 save persist|                        
                                                                      votedFor: -1|                               
                                                                      logsLen: 11                                 
                                                                      S3|T11 save persist|                        
                                                                      votedFor: 2| logsLen:                       
                                                                      11                                          
                                                                      S3|T11 votes for                            
                                                                      S2[RequestVote]                             
                                                                      S3|T11 is not leader                        
                                               S2|T11 is not leader                                               
                                                                                            S4|T11 starts to join 
                                                                                            election              
                                                                                            S4|T11 save persist|  
                                                                                            votedFor: 4| logsLen: 
                                                                                            12                    
                                                                                            S4|T11 is not leader  
S0|T10 is not leader                                                                                              
                                               S2|T11 is not leader                                               
                                                                      S3|T11 is not leader                        
                                                                                            S4|T11 is not leader  
S0|T10 is not leader                                                                                              
                                                                      S3|T11 is not leader                        
                                               S2|T11 is not leader                                               
S0|T10 is not leader                                                                                              
                                                                                            S4|T11 is not leader  
                                               S2|T11 is not leader                                               
                                                                      S3|T11 is not leader                        
                                                                                            S4|T11 is not leader  
S0|T10 is not leader                                                                                              
                                                                                            S4|T0 is made         
                                                                                            S4|T11 read persist|  
                                                                                            votedFor: 4| logsLen: 
                                                                                            12                    
                                               S2|T11 is not leader                                               
                                                                      S3|T11 is not leader                        
S0|T11 starts to join                                                                                             
election                                                                                                          
S0|T11 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
12                                                                                                                
                                                                                            S4|T11 is not leader  
S0|T11 is not leader                                                                                              
                                                                                            S4|T11 is not leader  
                                               S2|T11 is not leader                                               
                                                                      S3|T11 is not leader                        
S0|T11 is not leader                                                                                              
                                                                                            S4|T11 is not leader  
                                                                      S3|T11 is not leader                        
                                               S2|T11 is not leader                                               
                                                                      S3|T12 starts to join                       
                                                                      election                                    
                                                                      S3|T12 save persist|                        
                                                                      votedFor: 3| logsLen:                       
                                                                      11                                          
                                                                                            S4|T12 save persist|  
                                                                                            votedFor: -1| logsLen:
                                                                                            12                    
                                                                                            S4 rejects to vote for
                                                                                            S3 because it has     
                                                                                            voted or it is more   
                                                                                            up-dated[RequestVote] 
                                               S2|T12 save persist|                                               
                                               votedFor: -1| logsLen:                                             
                                               11                                                                 
                                               S2|T12 save persist|                                               
                                               votedFor: 3| logsLen:                                              
                                               11                                                                 
                                               S2|T12 votes for                                                   
                                               S3[RequestVote]                                                    
S0|T11 is not leader                                                                                              
                                                                                            S4|T12 is not leader  
                                               S2|T12 is not leader                                               
                                                                      S3|T12 is not leader                        
S0|T11 is not leader                                                                                              
                                                                                            S4|T12 is not leader  
                                                                      S3|T12 is not leader                        
                                               S2|T12 is not leader                                               
S0|T11 is not leader                                                                                              
                                                                                            S4|T12 is not leader  
                                                                      S3|T12 is not leader                        
                                               S2|T12 is not leader                                               
                                                                                            S4|T13 starts to join 
                                                                                            election              
                                                                                            S4|T13 save persist|  
                                                                                            votedFor: 4| logsLen: 
                                                                                            12                    
                                                                      S3|T13 save persist|                        
                                                                      votedFor: -1|                               
                                                                      logsLen: 11                                 
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      11                                          
                                                                      S3|T13 votes for                            
                                                                      S4[RequestVote]                             
                                               S2|T13 save persist|                                               
                                               votedFor: -1| logsLen:                                             
                                               11                                                                 
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               11                                                                 
                                               S2|T13 votes for                                                   
                                               S4[RequestVote]                                                    
                                                                                            S4|T13 becomes the    
                                                                                            leader, and starts    
                                                                                            heatbeats             
                                                                      S3|T13 rejects to                           
                                                                      append entries from                         
                                                                      S4 | short                                  
                                                                      log[AppendEntry]                            
                                               S2|T13 rejects to                                                  
                                               append entries from S4                                             
                                               | short                                                            
                                               log[AppendEntry]                                                   
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      12                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      12[AppendEntry]                             
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:1|    
                                                                                            matchidx:11|          
                                                                                            nextidx:12            
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               12                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               12[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:1|    
                                                                                            matchidx:11|          
                                                                                            nextidx:12            
S0|T11 is not leader                                                                                              
                                                                                            S4|T13 save persist|  
                                                                                            votedFor: 4| logsLen: 
                                                                                            13                    
                                                                                            S4|T13 receive        
                                                                                            commands | logLen:    
                                                                                            13[Start]             
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      12                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      12[AppendEntry]                             
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:11|          
                                                                                            nextidx:12            
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:1|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
S0|T11 is not leader                                                                                              
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:1|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 update         
                                                                                            commitIndex as 12     
                                                                                            S4|T13 apply entries  
                                                                                            [1:12][ApplyEntry]    
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
S0|T11 is not leader                                                                                              
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 apply entries                        
                                                                      [1:12][ApplyEntry]                          
                                               S2|T13 apply entries                                               
                                               [1:12][ApplyEntry]                                                 
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                        S1|T10 save persist|                                                                      
                        votedFor: 1| logsLen:                                                                     
                        13                                                                                        
                        S1|T10 receive                                                                            
                        commands | logLen:                                                                        
                        13[Start]                                                                                 
S0|T11 is not leader                                                                                              
                                               S2|T13 rejects to                                                  
                                               append entries from S1                                             
                                               | out of date                                                      
                                               term[AppendEntry]                                                  
S0|T11 rejects to                                                                                                 
append entries from S1                                                                                            
| out of date                                                                                                     
term[AppendEntry]                                                                                                 
                                                                      S3|T13 rejects to                           
                                                                      append entries from                         
                                                                      S1 | out of date                            
                                                                      term[AppendEntry]                           
                                                                                            S4|T13 rejects to     
                                                                                            append entries from S1
                                                                                            | out of date         
                                                                                            term[AppendEntry]     
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 lost                                                                               
                        leadership, state: 0                                                                      
                        S1|T13 lost                                                                               
                        leadership, state: 0                                                                      
                        S1|T13 lost                                                                               
                        leadership, state: 0                                                                      
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:1|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
12                                                                                                                
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
S0|T13 apply entries                                                                                              
[12:12][ApplyEntry]                                                                                               
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:1|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 apply entries                                                                      
                        [12:12][ApplyEntry]                                                                       
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 is not leader                                               
                                                                      S3|T13 is not leader                        
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 is not leader                                               
                                                                      S3|T13 is not leader                        
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 is not leader                                               
                                                                      S3|T13 is not leader                        
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                               S2|T13 is not leader                                               
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
                                               S2|T13 is not leader                                               
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                      S3|T13 is not leader                        
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
                                               S2|T13 is not leader                                               
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                               S2|T13 is not leader                                               
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                      S3|T13 is not leader                        
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                               S2|T13 is not leader                                               
                                                                      S3|T13 is not leader                        
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      13                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      13[AppendEntry]                             
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        13                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        13[AppendEntry]                                                                           
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               13                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               13[AppendEntry]                                                    
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
13                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
13[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:12|          
                                                                                            nextidx:13            
                                                                                            S4|T13 save persist|  
                                                                                            votedFor: 4| logsLen: 
                                                                                            14                    
                                                                                            S4|T13 receive        
                                                                                            commands | logLen:    
                                                                                            14[Start]             
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
14                                                                                                                
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        14                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        14[AppendEntry]                                                                           
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               14                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               14[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:1|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      14                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      14[AppendEntry]                             
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
14[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:1|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:1|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 update         
                                                                                            commitIndex as 13     
                                                                                            S4|T13 update         
                                                                                            commitIndex as 13     
                                                                                            S4|T13 apply entries  
                                                                                            [13:13][ApplyEntry]   
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:1|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 apply entries  
                                                                                            [14:13][ApplyEntry]   
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      14                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      14[AppendEntry]                             
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
14                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
14[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        14                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        14[AppendEntry]                                                                           
S0|T13 apply entries                                                                                              
[13:13][ApplyEntry]                                                                                               
                                                                      S3|T13 apply entries                        
                                                                      [13:13][ApplyEntry]                         
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               14                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               14[AppendEntry]                                                    
                        S1|T13 apply entries                                                                      
                        [13:13][ApplyEntry]                                                                       
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                               S2|T13 apply entries                                               
                                               [13:13][ApplyEntry]                                                
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
                                               S2|T13 is not leader                                               
                                                                      S3|T13 is not leader                        
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        14                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        14[AppendEntry]                                                                           
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
14                                                                                                                
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      14                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      14[AppendEntry]                             
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               14                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               14[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
14[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      14                                          
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
14                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
14[AppendEntry]                                                                                                   
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        14                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        14[AppendEntry]                                                                           
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      14[AppendEntry]                             
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               14                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               14[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
                                               S2|T13 is not leader                                               
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      14                                          
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               14                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               14[AppendEntry]                                                    
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      14[AppendEntry]                             
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
14                                                                                                                
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
14[AppendEntry]                                                                                                   
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        14                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        14[AppendEntry]                                                                           
                                                                      S3|T13 is not leader                        
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      14                                          
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               14                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               14[AppendEntry]                                                    
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        14                                                                                        
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        14[AppendEntry]                                                                           
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
14                                                                                                                
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
14[AppendEntry]                                                                                                   
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      14[AppendEntry]                             
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                               S2|T13 is not leader                                               
                                                                      S3|T13 is not leader                        
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      14                                          
                        S1|T13 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        14                                                                                        
                        S1|T13 appends logs                                                                       
                        from S4| logLen:                                                                          
                        14[AppendEntry]                                                                           
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      14[AppendEntry]                             
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               14                                                                 
S0|T13 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
14                                                                                                                
                                                                                            S4|T13 replica entries
                                                                                            to S1| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
S0|T13 appends logs                                                                                               
from S4| logLen:                                                                                                  
14[AppendEntry]                                                                                                   
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               14[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S0| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:13|          
                                                                                            nextidx:14            
                                                                                            S4|T13 save persist|  
                                                                                            votedFor: 4| logsLen: 
                                                                                            15                    
                                                                                            S4|T13 receive        
                                                                                            commands | logLen:    
                                                                                            15[Start]             
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                               S2|T13 is not leader                                               
                                                                      S3|T13 is not leader                        
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      15                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      15[AppendEntry]                             
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               15                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               15[AppendEntry]                                                    
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:1|    
                                                                                            matchidx:14|          
                                                                                            nextidx:15            
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:1|    
                                                                                            matchidx:14|          
                                                                                            nextidx:15            
                                                                                            S4|T13 update         
                                                                                            commitIndex as 14     
                                                                                            S4|T13 apply entries  
                                                                                            [14:14][ApplyEntry]   
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
                                               S2|T13 is not leader                                               
                                                                      S3|T13 is not leader                        
                                                                      S3|T13 save persist|                        
                                                                      votedFor: 4| logsLen:                       
                                                                      15                                          
                                                                      S3|T13 appends logs                         
                                                                      from S4| logLen:                            
                                                                      15[AppendEntry]                             
                                               S2|T13 save persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               15                                                                 
                                               S2|T13 appends logs                                                
                                               from S4| logLen:                                                   
                                               15[AppendEntry]                                                    
                                                                      S3|T13 apply entries                        
                                                                      [14:14][ApplyEntry]                         
                                                                                            S4|T13 replica entries
                                                                                            to S3| entrylen:0|    
                                                                                            matchidx:14|          
                                                                                            nextidx:15            
                                               S2|T13 apply entries                                               
                                               [14:14][ApplyEntry]                                                
                                                                                            S4|T13 replica entries
                                                                                            to S2| entrylen:0|    
                                                                                            matchidx:14|          
                                                                                            nextidx:15            
S0|T0 is made                                                                                                     
S0|T13 read persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
14                                                                                                                
                        S1|T0 is made                                                                             
                        S1|T13 read persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        14                                                                                        
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
                        S1|T13 is not leader                                                                      
S0|T13 is not leader                                                                                              
                                               S2|T13 is not leader                                               
                                                                      S3|T13 is not leader                        
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                                                                      S3|T13 is not leader                        
                                               S2|T13 is not leader                                               
S0|T13 is not leader                                                                                              
                        S1|T13 is not leader                                                                      
                        S1|T14 starts to join                                                                     
                        election                                                                                  
                        S1|T14 save persist|                                                                      
                        votedFor: 1| logsLen:                                                                     
                        14                                                                                        
S0|T14 save persist|                                                                                              
votedFor: -1| logsLen:                                                                                            
14                                                                                                                
S0|T14 save persist|                                                                                              
votedFor: 1| logsLen:                                                                                             
14                                                                                                                
S0|T14 votes for                                                                                                  
S1[RequestVote]                                                                                                   
                                               S2|T13 is not leader                                               
                                                                      S3|T13 is not leader                        
                        S1|T14 is not leader                                                                      
S0|T14 is not leader                                                                                              
                                                                      S3|T14 starts to join                       
                                                                      election                                    
                                                                      S3|T14 save persist|                        
                                                                      votedFor: 3| logsLen:                       
                                                                      15                                          
                                               S2|T13 is not leader                                               
                                                                      S3|T14 is not leader                        
S0|T14 is not leader                                                                                              
                        S1|T14 is not leader                                                                      
                                               S2|T13 is not leader                                               
                                                                      S3|T14 is not leader                        
                        S1|T14 is not leader                                                                      
S0|T14 is not leader                                                                                              
                                               S2|T13 is not leader                                               
                                                                      S3|T14 is not leader                        
S0|T14 is not leader                                                                                              
                        S1|T14 is not leader                                                                      
                                                                      S3|T14 is not leader                        
                                               S2|T13 is not leader                                               
                                               S2|T0 is made                                                      
                                               S2|T13 read persist|                                               
                                               votedFor: 4| logsLen:                                              
                                               15                                                                 
                        S1|T14 is not leader                                                                      
S0|T14 is not leader                                                                                              
                                               S2|T14 starts to join                                              
                                               election                                                           
                                               S2|T14 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               15                                                                 
                                                                      S3|T14 is not leader                        
                                               S2|T13 is not leader                                               
                        S1|T14 is not leader                                                                      
S0|T15 starts to join                                                                                             
election                                                                                                          
S0|T15 save persist|                                                                                              
votedFor: 0| logsLen:                                                                                             
14                                                                                                                
S0|T15 is not leader                                                                                              
                                               S2|T15 save persist|                                               
                                               votedFor: -1| logsLen:                                             
                                               15                                                                 
                                               S2 rejects to vote for                                             
                                               S0 because it has                                                  
                                               voted or it is more                                                
                                               up-dated[RequestVote]                                              
                        S1|T15 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        14                                                                                        
                        S1|T15 save persist|                                                                      
                        votedFor: 0| logsLen:                                                                     
                        14                                                                                        
                        S1|T15 votes for                                                                          
                        S0[RequestVote]                                                                           
                                                                      S3|T14 is not leader                        
                                               S2|T15 is not leader                                               
                        S1|T15 is not leader                                                                      
S0|T15 is not leader                                                                                              
                                                                      S3|T14 is not leader                        
                                               S2|T15 is not leader                                               
                        S1|T15 is not leader                                                                      
S0|T15 is not leader                                                                                              
                                                                      S3|T14 is not leader                        
                                               S2|T15 is not leader                                               
S0|T15 is not leader                                                                                              
                        S1|T15 is not leader                                                                      
                                                                      S3|T14 is not leader                        
                                               S2|T15 is not leader                                               
                        S1|T15 is not leader                                                                      
S0|T15 is not leader                                                                                              
                                               S2|T16 starts to join                                              
                                               election                                                           
                                               S2|T16 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               15                                                                 
                        S1|T16 save persist|                                                                      
                        votedFor: -1| logsLen:                                                                    
                        14                                                                                        
                        S1|T16 save persist|                                                                      
                        votedFor: 2| logsLen:                                                                     
                        14                                                                                        
S0|T16 save persist|                                                                                              
votedFor: -1| logsLen:                                                                                            
14                                                                                                                
S0|T16 save persist|                                                                                              
votedFor: 2| logsLen:                                                                                             
14                                                                                                                
                        S1|T16 votes for                                                                          
                        S2[RequestVote]                                                                           
S0|T16 votes for                                                                                                  
S2[RequestVote]                                                                                                   
                                               S2|T16 becomes the                                                 
                                               leader, and starts                                                 
                                               heatbeats                                                          
S0|T16 rejects to                                                                                                 
append entries from S2                                                                                            
| short                                                                                                           
log[AppendEntry]                                                                                                  
                        S1|T16 rejects to                                                                         
                        append entries from S2                                                                    
                        | short                                                                                   
                        log[AppendEntry]                                                                          
S0|T16 save persist|                                                                                              
votedFor: 2| logsLen:                                                                                             
15                                                                                                                
S0|T16 appends logs                                                                                               
from S2| logLen:                                                                                                  
15[AppendEntry]                                                                                                   
                        S1|T16 save persist|                                                                      
                        votedFor: 2| logsLen:                                                                     
                        15                                                                                        
                                               S2|T16 replica entries                                             
                                               to S0| entrylen:1|                                                 
                                               matchidx:14|                                                       
                                               nextidx:15                                                         
                        S1|T16 appends logs                                                                       
                        from S2| logLen:                                                                          
                        15[AppendEntry]                                                                           
                                               S2|T16 replica entries                                             
                                               to S1| entrylen:1|                                                 
                                               matchidx:14|                                                       
                                               nextidx:15                                                         
                                               S2|T16 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               16                                                                 
                                               S2|T16 receive                                                     
                                               commands | logLen:                                                 
                                               16[Start]                                                          
                                                                      S3|T14 is not leader                        
S0|T16 save persist|                                                                                              
votedFor: 2| logsLen:                                                                                             
16                                                                                                                
S0|T16 appends logs                                                                                               
from S2| logLen:                                                                                                  
16[AppendEntry]                                                                                                   
                        S1|T16 save persist|                                                                      
                        votedFor: 2| logsLen:                                                                     
                        16                                                                                        
                        S1|T16 appends logs                                                                       
                        from S2| logLen:                                                                          
                        16[AppendEntry]                                                                           
                                               S2|T16 replica entries                                             
                                               to S0| entrylen:1|                                                 
                                               matchidx:15|                                                       
                                               nextidx:16                                                         
                                               S2|T16 replica entries                                             
                                               to S1| entrylen:1|                                                 
                                               matchidx:15|                                                       
                                               nextidx:16                                                         
                                               S2|T16 update                                                      
                                               commitIndex as 15                                                  
                                               S2|T16 update                                                      
                                               commitIndex as 15                                                  
                                               S2|T16 apply entries                                               
                                               [1:15][ApplyEntry]                                                 
                                               S2|T16 apply entries                                               
                                               [16:15][ApplyEntry]                                                
                        S1|T16 is not leader                                                                      
S0|T16 is not leader                                                                                              
                                                                      S3|T14 is not leader                        
                        S1|T16 save persist|                                                                      
                        votedFor: 2| logsLen:                                                                     
                        16                                                                                        
                        S1|T16 appends logs                                                                       
                        from S2| logLen:                                                                          
                        16[AppendEntry]                                                                           
S0|T16 save persist|                                                                                              
votedFor: 2| logsLen:                                                                                             
16                                                                                                                
S0|T16 appends logs                                                                                               
from S2| logLen:                                                                                                  
16[AppendEntry]                                                                                                   
                                               S2|T16 replica entries                                             
                                               to S1| entrylen:0|                                                 
                                               matchidx:15|                                                       
                                               nextidx:16                                                         
                        S1|T16 apply entries                                                                      
                        [1:15][ApplyEntry]                                                                        
S0|T16 apply entries                                                                                              
[1:15][ApplyEntry]                                                                                                
                                               S2|T16 replica entries                                             
                                               to S0| entrylen:0|                                                 
                                               matchidx:15|                                                       
                                               nextidx:16                                                         
                                               S2|T16 save persist|                                               
                                               votedFor: 2| logsLen:                                              
                                               17                                                                 
                                               S2|T16 receive                                                     
                                               commands | logLen:                                                 
                                               17[Start]                                                          
S0|T16 is not leader                                                                                              
                        S1|T16 is not leader                                                                      
                                                                      S3|T14 rejects to                           
                                                                      append entries from                         
                                                                      S4 | out of date                            
                                                                      term[AppendEntry]                           
                                                                      S3|T14 is not leader                        
                        S1|T16 rejects to                                                                         
                        append entries from S4                                                                    
                        | out of date                                                                             
                        term[AppendEntry]                                                                         
S0|T16 rejects to                                                                                                 
append entries from S4                                                                                            
| out of date                                                                                                     
term[AppendEntry]                                                                                                 
                                               S2|T16 rejects to                                                  
                                               append entries from S4                                             
                                               | out of date                                                      
                                               term[AppendEntry]                                                  
                                                                                            S4|T14 save persist|  
                                                                                            votedFor: -1| logsLen:
                                                                                            15                    
                                                                                            S4|T16 save persist|  
                                                                                            votedFor: -1| logsLen:
                                                                                            15                    
                                                                                            S4|T16 save persist|  
                                                                                            votedFor: -1| logsLen:
                                                                                            17                    
                                                                                            S4|T16 appends logs   
                                                                                            from S2| logLen:      
                                                                                            17[AppendEntry]       
                                               S2|T16 replica entries                                             
                                               to S4| entrylen:2|                                                 
                                               matchidx:16|                                                       
                                               nextidx:17                                                         
                        S1|T16 save persist|                                                                      
                        votedFor: 2| logsLen:                                                                     
                        17                                                                                        
                        S1|T16 appends logs                                                                       
                        from S2| logLen:                                                                          
                        17[AppendEntry]                                                                           
                                                                                            S4|T16 apply entries  
                                                                                            [15:15][ApplyEntry]   
                                                                      S3|T16 save persist|                        
                                                                      votedFor: 3| logsLen:                       
                                                                      15                                          
S0|T16 save persist|                                                                                              
votedFor: 2| logsLen:                                                                                             
17                                                                                                                
                                               S2|T16 replica entries                                             
                                               to S1| entrylen:1|                                                 
                                               matchidx:16|                                                       
                                               nextidx:17                                                         
S0|T16 appends logs                                                                                               
from S2| logLen:                                                                                                  
17[AppendEntry]                                                                                                   
                                               S2|T16 update                                                      
                                               commitIndex as 16                                                  
                                               S2|T16 apply entries                                               
                                               [16:16][ApplyEntry]                                                
                                                                      S3|T16 save persist|                        
                                                                      votedFor: 3| logsLen:                       
                                                                      17                                          
                                                                      S3|T16 appends logs                         
                                                                      from S2| logLen:                            
                                                                      17[AppendEntry]                             
                                               S2|T16 replica entries                                             
                                               to S0| entrylen:1|                                                 
                                               matchidx:16|                                                       
                                               nextidx:17                                                         
                                                                                            S4|T16 lost           
                                                                                            leadership, state: 0  
                                                                      S3|T16 apply entries                        
                                                                      [15:15][ApplyEntry]                         
                                                                                            S4|T16 lost           
                                                                                            leadership, state: 0  
                                                                                            S4|T16 lost           
                                                                                            leadership, state: 0  
                                               S2|T16 replica entries                                             
                                               to S3| entrylen:2|                                                 
                                               matchidx:16|                                                       
                                               nextidx:17                                                         
                        S1|T16 is not leader                                                                      
S0|T16 is not leader                                                                                              
                                                                      S3|T16 is not leader                        
                                                                                            S4|T16 is not leader  
                                                                                            S4|T16 save persist|  
                                                                                            votedFor: -1| logsLen:
                                                                                            17                    
                        S1|T16 save persist|                                                                      
                        votedFor: 2| logsLen:                                                                     
                        17                                                                                        
S0|T16 save persist|                                                                                              
votedFor: 2| logsLen:                                                                                             
17                                                                                                                
S0|T16 appends logs                                                                                               
from S2| logLen:                                                                                                  
17[AppendEntry]                                                                                                   
                        S1|T16 appends logs                                                                       
                        from S2| logLen:                                                                          
                        17[AppendEntry]                                                                           
                                                                                            S4|T16 appends logs   
                                                                                            from S2| logLen:      
                                                                                            17[AppendEntry]       
                                                                      S3|T16 save persist|                        
                                                                      votedFor: 3| logsLen:                       
                                                                      17                                          
                                                                      S3|T16 appends logs                         
                                                                      from S2| logLen:                            
                                                                      17[AppendEntry]                             
                                               S2|T16 replica entries                                             
                                               to S0| entrylen:0|                                                 
                                               matchidx:16|                                                       
                                               nextidx:17                                                         
                                               S2|T16 replica entries                                             
                                               to S1| entrylen:0|                                                 
                                               matchidx:16|                                                       
                                               nextidx:17                                                         
                                                                      S3|T16 apply entries                        
                                                                      [16:16][ApplyEntry]                         
                                               S2|T16 replica entries                                             
                                               to S4| entrylen:0|                                                 
                                               matchidx:16|                                                       
                                               nextidx:17                                                         
S0|T16 apply entries                                                                                              
[16:16][ApplyEntry]                                                                                               
                        S1|T16 apply entries                                                                      
                        [16:16][ApplyEntry]                                                                       
                                                                                            S4|T16 apply entries  
                                                                                            [16:16][ApplyEntry]   
                                               S2|T16 replica entries                                             
                                               to S3| entrylen:0|                                                 
                                               matchidx:16|                                                       
                                               nextidx:17                                                         
S0|T16 is not leader                                                                                              
                        S1|T16 is not leader                                                                      
S0|T0 is made                                                                                                     
                        S1|T0 is made                                                                             
                                               S2|T0 is made                                                      
                                                                                            S4|T16 is not leader  
                                                                      S3|T16 is not leader                        
S0|T16 is not leader                                                                                              
                        S1|T0 is not leader                                                                       
                                               S2|T0 is not leader                                                
S0|T0 is not leader                                                                                               
S0|T0 is not leader                                                                                               
                        S1|T0 is not leader                                                                       
                                               S2|T0 is not leader                                                
                                               S2|T0 is not leader                                                
                        S1|T0 is not leader                                                                       
S0|T0 is not leader                                                                                               
S0|T0 is not leader                                                                                               
                                               S2|T0 is not leader                                                
                        S1|T0 is not leader                                                                       
                        S1|T0 is not leader                                                                       
                                               S2|T0 is not leader                                                
S0|T0 is not leader                                                                                               
S0|T1 starts to join                                                                                              
election                                                                                                          
S0|T1 save persist|                                                                                               
votedFor: 0| logsLen: 1                                                                                           
                                               S2|T1 save persist|                                                
                                               votedFor: -1| logsLen:                                             
                                               1                                                                  
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               1                                                                  
                                               S2|T1 votes for                                                    
                                               S0[RequestVote]                                                    
                        S1|T1 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        1                                                                                         
S0|T1 becomes the                                                                                                 
leader, and starts                                                                                                
heatbeats                                                                                                         
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        1                                                                                         
                        S1|T1 votes for                                                                           
                        S0[RequestVote]                                                                           
S0|T1 ends this round                                                                                             
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               1                                                                  
                                               S2|T1 appends logs                                                 
                                               from S0| logLen:                                                   
                                               1[AppendEntry]                                                     
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        1                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        1[AppendEntry]                                                                            
S0|T1 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:0| nextidx:1                                                                                             
S0|T1 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:0| nextidx:1                                                                                             
S0|T1 save persist|                                                                                               
votedFor: 0| logsLen: 2                                                                                           
S0|T1 receive commands                                                                                            
| logLen: 2[Start]                                                                                                
                        S1|T1 is not leader                                                                       
                                               S2|T1 is not leader                                                
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                                               S2|T1 appends logs                                                 
                                               from S0| logLen:                                                   
                                               2[AppendEntry]                                                     
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
S0|T1 replica entries                                                                                             
to S2| entrylen:1|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T1 update                                                                                                      
commitIndex as 1                                                                                                  
S0|T1 apply entries                                                                                               
[1:1][ApplyEntry]                                                                                                 
S0|T1 replica entries                                                                                             
to S1| entrylen:1|                                                                                                
matchidx:1| nextidx:2                                                                                             
                                               S2|T1 is not leader                                                
                        S1|T1 is not leader                                                                       
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                                               S2|T1 appends logs                                                 
                                               from S0| logLen:                                                   
                                               2[AppendEntry]                                                     
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                               S2|T1 apply entries                                                
                                               [1:1][ApplyEntry]                                                  
S0|T1 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
                        S1|T1 apply entries                                                                       
                        [1:1][ApplyEntry]                                                                         
S0|T1 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
                        S1|T1 is not leader                                                                       
                                               S2|T1 is not leader                                                
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                                               S2|T1 appends logs                                                 
                                               from S0| logLen:                                                   
                                               2[AppendEntry]                                                     
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
S0|T1 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T1 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
                                               S2|T1 is not leader                                                
                        S1|T1 is not leader                                                                       
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                               S2|T1 appends logs                                                 
                                               from S0| logLen:                                                   
                                               2[AppendEntry]                                                     
S0|T1 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T1 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
                                               S2|T1 is not leader                                                
                        S1|T1 is not leader                                                                       
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                                               S2|T1 appends logs                                                 
                                               from S0| logLen:                                                   
                                               2[AppendEntry]                                                     
S0|T1 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T1 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
                        S1|T1 is not leader                                                                       
                                               S2|T1 is not leader                                                
                                               S2|T1 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                               S2|T1 appends logs                                                 
                                               from S0| logLen:                                                   
                                               2[AppendEntry]                                                     
S0|T1 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T1 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T1 save persist|                                                                                               
votedFor: 0| logsLen: 3                                                                                           
S0|T1 receive commands                                                                                            
| logLen: 3[Start]                                                                                                
                                               S2|T1 is not leader                                                
                        S1|T1 is not leader                                                                       
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        3[AppendEntry]                                                                            
S0|T1 replica entries                                                                                             
to S1| entrylen:1|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T1 update                                                                                                      
commitIndex as 2                                                                                                  
S0|T1 apply entries                                                                                               
[2:2][ApplyEntry]                                                                                                 
                        S1|T1 is not leader                                                                       
                                               S2|T1 is not leader                                                
                        S1|T1 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
                        S1|T1 appends logs                                                                        
                        from S0| logLen:                                                                          
                        3[AppendEntry]                                                                            
                        S1|T1 apply entries                                                                       
                        [2:2][ApplyEntry]                                                                         
S0|T1 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T0 is made                                                                                                     
S0|T1 read persist|                                                                                               
votedFor: 0| logsLen: 3                                                                                           
                                               S2|T1 is not leader                                                
                        S1|T1 is not leader                                                                       
S0|T1 is not leader                                                                                               
                                               S2|T1 is not leader                                                
S0|T1 is not leader                                                                                               
                                               S2|T1 is not leader                                                
S0|T1 is not leader                                                                                               
                                               S2|T1 is not leader                                                
S0|T1 is not leader                                                                                               
                                               S2|T2 starts to join                                               
                                               election                                                           
                                               S2|T2 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               2                                                                  
S0|T2 save persist|                                                                                               
votedFor: -1| logsLen:                                                                                            
3                                                                                                                 
S0 rejects to vote for                                                                                            
S2 because it has voted                                                                                           
or it is more                                                                                                     
up-dated[RequestVote]                                                                                             
                                               S2|T2 is not leader                                                
S0|T2 is not leader                                                                                               
                                               S2|T2 is not leader                                                
S0|T3 starts to join                                                                                              
election                                                                                                          
S0|T3 save persist|                                                                                               
votedFor: 0| logsLen: 3                                                                                           
                                               S2|T3 save persist|                                                
                                               votedFor: -1| logsLen:                                             
                                               2                                                                  
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               2                                                                  
                                               S2|T3 votes for                                                    
                                               S0[RequestVote]                                                    
S0|T3 becomes the                                                                                                 
leader, and starts                                                                                                
heatbeats                                                                                                         
                                               S2|T3 rejects to                                                   
                                               append entries from S0                                             
                                               | short                                                            
                                               log[AppendEntry]                                                   
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               3                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               3[AppendEntry]                                                     
S0|T3 replica entries                                                                                             
to S2| entrylen:1|                                                                                                
matchidx:2| nextidx:3                                                                                             
S0|T3 save persist|                                                                                               
votedFor: 0| logsLen: 4                                                                                           
S0|T3 receive commands                                                                                            
| logLen: 4[Start]                                                                                                
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               3                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               3[AppendEntry]                                                     
S0|T3 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:2| nextidx:3                                                                                             
                                               S2|T3 is not leader                                                
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               4                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
S0|T3 replica entries                                                                                             
to S2| entrylen:1|                                                                                                
matchidx:3| nextidx:4                                                                                             
S0|T3 update                                                                                                      
commitIndex as 3                                                                                                  
S0|T3 apply entries                                                                                               
[1:3][ApplyEntry]                                                                                                 
                                               S2|T3 is not leader                                                
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               4                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               4[AppendEntry]                                                     
                                               S2|T3 apply entries                                                
                                               [2:3][ApplyEntry]                                                  
S0|T3 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:3| nextidx:4                                                                                             
                        S1|T0 is made                                                                             
                        S1|T1 read persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
S0|T3 save persist|                                                                                               
votedFor: 0| logsLen: 5                                                                                           
S0|T3 receive commands                                                                                            
| logLen: 5[Start]                                                                                                
                                               S2|T3 is not leader                                                
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               5                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               5[AppendEntry]                                                     
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        3                                                                                         
S0|T3 replica entries                                                                                             
to S2| entrylen:1|                                                                                                
matchidx:4| nextidx:5                                                                                             
S0|T3 update                                                                                                      
commitIndex as 4                                                                                                  
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        5                                                                                         
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        5[AppendEntry]                                                                            
S0|T3 apply entries                                                                                               
[4:4][ApplyEntry]                                                                                                 
                        S1|T3 apply entries                                                                       
                        [1:3][ApplyEntry]                                                                         
S0|T3 replica entries                                                                                             
to S1| entrylen:2|                                                                                                
matchidx:4| nextidx:5                                                                                             
                        S1|T3 is not leader                                                                       
                                               S2|T3 is not leader                                                
                                               S2|T3 save persist|                                                
                                               votedFor: 0| logsLen:                                              
                                               5                                                                  
                                               S2|T3 appends logs                                                 
                                               from S0| logLen:                                                   
                                               5[AppendEntry]                                                     
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        5                                                                                         
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        5[AppendEntry]                                                                            
                                               S2|T3 apply entries                                                
                                               [4:4][ApplyEntry]                                                  
S0|T3 replica entries                                                                                             
to S2| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                        S1|T3 apply entries                                                                       
                        [4:4][ApplyEntry]                                                                         
S0|T3 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:4| nextidx:5                                                                                             
                        S1|T3 is not leader                                                                       
S0|T0 is made                                                                                                     
                        S1|T0 is made                                                                             
                                               S2|T0 is made                                                      
                                                                      S3|T0 is made                               
                                                                                            S4|T0 is made         
                                               S2|T3 is not leader                                                
                        S1|T3 is not leader                                                                       
                                                                      S3|T0 is not leader                         
                                               S2|T0 is not leader                                                
                        S1|T0 is not leader                                                                       
                                                                                            S4|T0 is not leader   
S0|T0 is not leader                                                                                               
                        S1|T0 is not leader                                                                       
                                                                                            S4|T0 is not leader   
                                                                      S3|T0 is not leader                         
                                               S2|T0 is not leader                                                
S0|T0 is not leader                                                                                               
                        S1|T0 is not leader                                                                       
S0|T0 is not leader                                                                                               
                                                                                            S4|T0 is not leader   
                                               S2|T0 is not leader                                                
                                                                      S3|T0 is not leader                         
                                                                      S3|T0 is not leader                         
S0|T0 is not leader                                                                                               
                                               S2|T0 is not leader                                                
                                                                                            S4|T0 is not leader   
                        S1|T0 is not leader                                                                       
S0|T0 is not leader                                                                                               
                        S1|T0 is not leader                                                                       
                                                                      S3|T0 is not leader                         
                                               S2|T0 is not leader                                                
                                                                                            S4|T0 is not leader   
                                               S2|T1 starts to join                                               
                                               election                                                           
                                               S2|T1 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               1                                                                  
                                                                      S3|T1 save persist|                         
                                                                      votedFor: -1|                               
                                                                      logsLen: 1                                  
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: -1| logsLen:
                                                                                            1                     
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            1                     
                        S1|T1 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        1                                                                                         
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        1                                                                                         
                        S1|T1 votes for                                                                           
                        S2[RequestVote]                                                                           
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      1                                           
                                                                      S3|T1 votes for                             
                                                                      S2[RequestVote]                             
S0|T1 save persist|                                                                                               
votedFor: -1| logsLen:                                                                                            
1                                                                                                                 
                                                                                            S4|T1 votes for       
                                                                                            S2[RequestVote]       
                                               S2|T1 becomes the                                                  
                                               leader, and starts                                                 
                                               heatbeats                                                          
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 1                                                                                           
                                               S2|T1 ends this round                                              
S0|T1 votes for                                                                                                   
S2[RequestVote]                                                                                                   
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            1                     
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 1                                                                                           
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
1[AppendEntry]                                                                                                    
                                               S2|T1 ends this round                                              
                                                                                            S4|T1 appends logs    
                                                                                            from S2| logLen:      
                                                                                            1[AppendEntry]        
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        1                                                                                         
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        1[AppendEntry]                                                                            
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      1                                           
                                                                      S3|T1 appends logs                          
                                                                      from S2| logLen:                            
                                                                      1[AppendEntry]                              
                                               S2|T1 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
                                               S2|T1 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:0| nextidx:1                                              
                                               S2|T1 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               2                                                                  
                                               S2|T1 receive commands                                             
                                               | logLen: 2[Start]                                                 
                                                                                            S4|T1 is not leader   
                        S1|T1 is not leader                                                                       
                                                                      S3|T1 is not leader                         
S0|T1 is not leader                                                                                               
                                                                                            S4|T1 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            2                     
                        S1|T1 save persist|                                                                       
                        votedFor: 2| logsLen:                                                                     
                        2                                                                                         
S0|T1 save persist|                                                                                               
votedFor: 2| logsLen: 2                                                                                           
S0|T1 appends logs from                                                                                           
S2| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                                                                      S3|T1 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      2                                           
                                                                      S3|T1 appends logs                          
                                                                      from S2| logLen:                            
                                                                      2[AppendEntry]                              
                                                                                            S4|T1 appends logs    
                                                                                            from S2| logLen:      
                                                                                            2[AppendEntry]        
                        S1|T1 appends logs                                                                        
                        from S2| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                               S2|T1 replica entries                                              
                                               to S0| entrylen:1|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 replica entries                                              
                                               to S3| entrylen:1|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 update                                                       
                                               commitIndex as 1                                                   
                                               S2|T1 replica entries                                              
                                               to S4| entrylen:1|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 replica entries                                              
                                               to S1| entrylen:1|                                                 
                                               matchidx:1| nextidx:2                                              
                                               S2|T1 apply entries                                                
                                               [1:1][ApplyEntry]                                                  
                                               S2|T1 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               3                                                                  
                                               S2|T1 receive commands                                             
                                               | logLen: 3[Start]                                                 
S0|T1 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
                                                                      S3|T1 is not leader                         
                                                                                            S4|T1 is not leader   
                        S1|T1 is not leader                                                                       
                                                                      S3|T1 is not leader                         
                                                                                            S4|T1 is not leader   
S0|T1 is not leader                                                                                               
S0|T1 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
                                                                      S3|T1 is not leader                         
                                                                                            S4|T1 is not leader   
                        S1|T1 is not leader                                                                       
                                                                      S3|T1 is not leader                         
                                                                                            S4|T1 is not leader   
S0|T1 is not leader                                                                                               
                        S1|T1 is not leader                                                                       
                                                                                            S4|T1 is not leader   
S0|T1 is not leader                                                                                               
                                                                      S3|T1 is not leader                         
                                                                      S3|T2 starts to join                        
                                                                      election                                    
                                                                      S3|T2 save persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      2                                           
                                                                                            S4|T2 save persist|   
                                                                                            votedFor: -1| logsLen:
                                                                                            2                     
                                                                                            S4|T2 save persist|   
                                                                                            votedFor: 3| logsLen: 
                                                                                            2                     
                                                                                            S4|T2 votes for       
                                                                                            S3[RequestVote]       
                        S1|T2 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        2                                                                                         
S0|T2 save persist|                                                                                               
votedFor: -1| logsLen:                                                                                            
2                                                                                                                 
                        S1|T2 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        2                                                                                         
                        S1|T2 votes for                                                                           
                        S3[RequestVote]                                                                           
S0|T2 save persist|                                                                                               
votedFor: 3| logsLen: 2                                                                                           
S0|T2 votes for                                                                                                   
S3[RequestVote]                                                                                                   
                                                                      S3|T2 becomes the                           
                                                                      leader, and starts                          
                                                                      heatbeats                                   
                                                                      S3|T2 ends this round                       
                                                                                            S4|T2 save persist|   
                                                                                            votedFor: 3| logsLen: 
                                                                                            2                     
                                                                                            S4|T2 appends logs    
                                                                                            from S3| logLen:      
                                                                                            2[AppendEntry]        
S0|T2 save persist|                                                                                               
votedFor: 3| logsLen: 2                                                                                           
S0|T2 appends logs from                                                                                           
S3| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                        S1|T2 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        2                                                                                         
                                                                      S3|T2 replica entries                       
                                                                      to S4| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                        S1|T2 appends logs                                                                        
                        from S3| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                                                      S3|T2 replica entries                       
                                                                      to S0| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                                                                      S3|T2 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                        S1|T2 is not leader                                                                       
                                                                                            S4|T2 is not leader   
S0|T2 is not leader                                                                                               
S0|T2 save persist|                                                                                               
votedFor: 3| logsLen: 2                                                                                           
S0|T2 appends logs from                                                                                           
S3| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                                                                                            S4|T2 save persist|   
                                                                                            votedFor: 3| logsLen: 
                                                                                            2                     
                                                                                            S4|T2 appends logs    
                                                                                            from S3| logLen:      
                                                                                            2[AppendEntry]        
                        S1|T2 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        2                                                                                         
                                                                      S3|T2 replica entries                       
                                                                      to S0| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                        S1|T2 appends logs                                                                        
                        from S3| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                                                      S3|T2 replica entries                       
                                                                      to S4| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                                                                      S3|T2 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
S0|T2 is not leader                                                                                               
                                                                                            S4|T2 is not leader   
                        S1|T2 is not leader                                                                       
                        S1|T2 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        2                                                                                         
S0|T2 save persist|                                                                                               
votedFor: 3| logsLen: 2                                                                                           
S0|T2 appends logs from                                                                                           
S3| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                        S1|T2 appends logs                                                                        
                        from S3| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                                                                            S4|T2 save persist|   
                                                                                            votedFor: 3| logsLen: 
                                                                                            2                     
                                                                                            S4|T2 appends logs    
                                                                                            from S3| logLen:      
                                                                                            2[AppendEntry]        
                                                                      S3|T2 replica entries                       
                                                                      to S0| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                                                                      S3|T2 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                                                                      S3|T2 replica entries                       
                                                                      to S4| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                                                                                            S4|T2 is not leader   
S0|T2 is not leader                                                                                               
                        S1|T2 is not leader                                                                       
                                                                                            S4|T2 save persist|   
                                                                                            votedFor: 3| logsLen: 
                                                                                            2                     
                                                                                            S4|T2 appends logs    
                                                                                            from S3| logLen:      
                                                                                            2[AppendEntry]        
                        S1|T2 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        2                                                                                         
S0|T2 save persist|                                                                                               
votedFor: 3| logsLen: 2                                                                                           
S0|T2 appends logs from                                                                                           
S3| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                                                                      S3|T2 replica entries                       
                                                                      to S4| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                        S1|T2 appends logs                                                                        
                        from S3| logLen:                                                                          
                        2[AppendEntry]                                                                            
                                                                      S3|T2 replica entries                       
                                                                      to S0| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                                                                      S3|T2 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                        S1|T2 is not leader                                                                       
S0|T2 is not leader                                                                                               
                                                                                            S4|T2 is not leader   
S0|T2 save persist|                                                                                               
votedFor: 3| logsLen: 2                                                                                           
                                                                                            S4|T2 save persist|   
                                                                                            votedFor: 3| logsLen: 
                                                                                            2                     
                                                                                            S4|T2 appends logs    
                                                                                            from S3| logLen:      
                                                                                            2[AppendEntry]        
                        S1|T2 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        2                                                                                         
                        S1|T2 appends logs                                                                        
                        from S3| logLen:                                                                          
                        2[AppendEntry]                                                                            
S0|T2 appends logs from                                                                                           
S3| logLen:                                                                                                       
2[AppendEntry]                                                                                                    
                                                                      S3|T2 replica entries                       
                                                                      to S4| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                                                                      S3|T2 replica entries                       
                                                                      to S1| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                                                                      S3|T2 replica entries                       
                                                                      to S0| entrylen:0|                          
                                                                      matchidx:1| nextidx:2                       
                                                                      S3|T2 save persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      3                                           
                                                                      S3|T2 receive                               
                                                                      commands | logLen:                          
                                                                      3[Start]                                    
                                                                                            S4|T2 is not leader   
                        S1|T2 is not leader                                                                       
S0|T2 is not leader                                                                                               
                                                                                            S4|T2 is not leader   
S0|T2 is not leader                                                                                               
                        S1|T2 is not leader                                                                       
                        S1|T2 is not leader                                                                       
S0|T2 is not leader                                                                                               
                                                                                            S4|T2 is not leader   
                        S1|T2 is not leader                                                                       
S0|T2 is not leader                                                                                               
                                                                                            S4|T2 is not leader   
                        S1|T2 is not leader                                                                       
                                                                                            S4|T2 is not leader   
S0|T2 is not leader                                                                                               
                        S1|T2 is not leader                                                                       
S0|T2 is not leader                                                                                               
                                                                                            S4|T2 is not leader   
S0|T2 is not leader                                                                                               
                        S1|T2 is not leader                                                                       
                                                                                            S4|T2 is not leader   
S0|T3 starts to join                                                                                              
election                                                                                                          
S0|T3 save persist|                                                                                               
votedFor: 0| logsLen: 2                                                                                           
                                                                                            S4|T3 save persist|   
                                                                                            votedFor: -1| logsLen:
                                                                                            2                     
                        S1|T3 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        2                                                                                         
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T3 votes for                                                                           
                        S0[RequestVote]                                                                           
                                                                                            S4|T3 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            2                     
                                                                                            S4|T3 votes for       
                                                                                            S0[RequestVote]       
S0|T3 becomes the                                                                                                 
leader, and starts                                                                                                
heatbeats                                                                                                         
                                                                                            S4|T3 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            2                     
                                                                                            S4|T3 appends logs    
                                                                                            from S0| logLen:      
                                                                                            2[AppendEntry]        
S0|T3 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
S0|T3 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
                                                                                            S4|T3 is not leader   
                        S1|T3 is not leader                                                                       
                                                                                            S4|T3 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            2                     
                                                                                            S4|T3 appends logs    
                                                                                            from S0| logLen:      
                                                                                            2[AppendEntry]        
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
S0|T3 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T3 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
                                                                                            S4|T3 is not leader   
                        S1|T3 is not leader                                                                       
                                                                                            S4|T3 save persist|   
                                                                                            votedFor: 0| logsLen: 
                                                                                            2                     
                                                                                            S4|T3 appends logs    
                                                                                            from S0| logLen:      
                                                                                            2[AppendEntry]        
                        S1|T3 save persist|                                                                       
                        votedFor: 0| logsLen:                                                                     
                        2                                                                                         
                        S1|T3 appends logs                                                                        
                        from S0| logLen:                                                                          
                        2[AppendEntry]                                                                            
S0|T3 replica entries                                                                                             
to S4| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T3 replica entries                                                                                             
to S1| entrylen:0|                                                                                                
matchidx:1| nextidx:2                                                                                             
S0|T3 save persist|                                                                                               
votedFor: 0| logsLen: 3                                                                                           
S0|T3 receive commands                                                                                            
| logLen: 3[Start]                                                                                                
                                                                      S3|T0 is made                               
                                                                      S3|T2 read persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      3                                           
                        S1|T3 is not leader                                                                       
                                                                                            S4|T3 is not leader   
                                                                      S3|T2 is not leader                         
                                                                                            S4|T3 is not leader   
                        S1|T3 is not leader                                                                       
                                                                      S3|T2 is not leader                         
                        S1|T3 is not leader                                                                       
                                                                                            S4|T3 is not leader   
                                                                      S3|T2 is not leader                         
                                                                                            S4|T3 is not leader   
                        S1|T3 is not leader                                                                       
                                                                      S3|T2 is not leader                         
                                                                                            S4|T3 is not leader   
                        S1|T3 is not leader                                                                       
                                                                      S3|T2 is not leader                         
                                                                                            S4|T4 starts to join  
                                                                                            election              
                                                                                            S4|T4 save persist|   
                                                                                            votedFor: 4| logsLen: 
                                                                                            2                     
                                                                      S3|T4 save persist|                         
                                                                      votedFor: -1|                               
                                                                      logsLen: 3                                  
                                                                      S3 rejects to vote                          
                                                                      for S4 because it has                       
                                                                      voted or it is more                         
                                                                      up-dated[RequestVote]                       
                        S1|T4 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        2                                                                                         
                        S1|T4 save persist|                                                                       
                        votedFor: 4| logsLen:                                                                     
                        2                                                                                         
                        S1|T4 votes for                                                                           
                        S4[RequestVote]                                                                           
                                                                                            S4|T4 is not leader   
                        S1|T4 is not leader                                                                       
                                                                      S3|T4 is not leader                         
                                                                      S3|T5 starts to join                        
                                                                      election                                    
                                                                      S3|T5 save persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      3                                           
                                                                                            S4|T5 save persist|   
                                                                                            votedFor: -1| logsLen:
                                                                                            2                     
                                                                                            S4|T5 save persist|   
                                                                                            votedFor: 3| logsLen: 
                                                                                            2                     
                                                                                            S4|T5 votes for       
                                                                                            S3[RequestVote]       
                        S1|T5 save persist|                                                                       
                        votedFor: -1| logsLen:                                                                    
                        2                                                                                         
                        S1|T5 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        2                                                                                         
                        S1|T5 votes for                                                                           
                        S3[RequestVote]                                                                           
                                                                      S3|T5 becomes the                           
                                                                      leader, and starts                          
                                                                      heatbeats                                   
                                                                                            S4|T5 rejects to      
                                                                                            append entries from S3
                                                                                            | short               
                                                                                            log[AppendEntry]      
                        S1|T5 rejects to                                                                          
                        append entries from S3                                                                    
                        | short                                                                                   
                        log[AppendEntry]                                                                          
                                                                                            S4|T5 save persist|   
                                                                                            votedFor: 3| logsLen: 
                                                                                            3                     
                                                                                            S4|T5 appends logs    
                                                                                            from S3| logLen:      
                                                                                            3[AppendEntry]        
                                                                      S3|T5 replica entries                       
                                                                      to S4| entrylen:1|                          
                                                                      matchidx:2| nextidx:3                       
                        S1|T5 save persist|                                                                       
                        votedFor: 3| logsLen:                                                                     
                        3                                                                                         
                        S1|T5 appends logs                                                                        
                        from S3| logLen:                                                                          
                        3[AppendEntry]                                                                            
                                                                      S3|T5 replica entries                       
                                                                      to S1| entrylen:1|                          
                                                                      matchidx:2| nextidx:3                       
                                                                      S3|T5 save persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      4                                           
                                                                      S3|T5 receive                               
                                                                      commands | logLen:                          
                                                                      4[Start]                                    
                                               S2|T0 is made                                                      
                                               S2|T1 read persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               3                                                                  
                        S1|T5 is not leader                                                                       
                                                                                            S4|T5 is not leader   
                                               S2|T1 is not leader                                                
                        S1|T5 is not leader                                                                       
                                                                                            S4|T5 is not leader   
                                               S2|T1 is not leader                                                
                        S1|T5 is not leader                                                                       
                                                                                            S4|T5 is not leader   
                                               S2|T1 is not leader                                                
                        S1|T5 is not leader                                                                       
                                                                                            S4|T5 is not leader   
                                               S2|T1 is not leader                                                
                                                                                            S4|T5 is not leader   
                        S1|T5 is not leader                                                                       
                                                                                            S4|T5 is not leader   
                                               S2|T1 is not leader                                                
                        S1|T5 is not leader                                                                       
                                               S2|T2 starts to join                                               
                                               election                                                           
                                               S2|T2 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               3                                                                  
                                                                                            S4|T5 rejects to vote 
                                                                                            for S2 | out of date  
                                                                                            term[RequestVote]     
                        S1|T5 rejects to vote                                                                     
                        for S2 | out of date                                                                      
                        term[RequestVote]                                                                         
                                               S2|T5 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               3                                                                  
                                               S2|T5 ends this round                                              
                                                                                            S4|T5 is not leader   
                                               S2|T5 is not leader                                                
                        S1|T5 is not leader                                                                       
                                                                                            S4|T5 is not leader   
                        S1|T5 is not leader                                                                       
                                               S2|T5 is not leader                                                
                                               S2|T5 is not leader                                                
                                                                                            S4|T5 is not leader   
                        S1|T5 is not leader                                                                       
                        S1|T6 starts to join                                                                      
                        election                                                                                  
                        S1|T6 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        3                                                                                         
                                                                                            S4|T6 save persist|   
                                                                                            votedFor: -1| logsLen:
                                                                                            3                     
                                                                                            S4|T6 save persist|   
                                                                                            votedFor: 1| logsLen: 
                                                                                            3                     
                                                                                            S4|T6 votes for       
                                                                                            S1[RequestVote]       
                                               S2|T6 save persist|                                                
                                               votedFor: -1| logsLen:                                             
                                               3                                                                  
                                               S2|T6 save persist|                                                
                                               votedFor: 1| logsLen:                                              
                                               3                                                                  
                                               S2|T6 votes for                                                    
                                               S1[RequestVote]                                                    
                        S1|T6 becomes the                                                                         
                        leader, and starts                                                                        
                        heatbeats                                                                                 
                                                                                            S4|T6 save persist|   
                                                                                            votedFor: 1| logsLen: 
                                                                                            3                     
                                                                                            S4|T6 appends logs    
                                                                                            from S1| logLen:      
                                                                                            3[AppendEntry]        
                                               S2|T6 rejects to                                                   
                                               append entries from S1                                             
                                               | inconsistency                                                    
                                               log[AppendEntry]                                                   
                                               S2|T6 save persist|                                                
                                               votedFor: 1| logsLen:                                              
                                               3                                                                  
                        S1|T6 replica entries                                                                     
                        to S4| entrylen:0|                                                                        
                        matchidx:2| nextidx:3                                                                     
                                               S2|T6 appends logs                                                 
                                               from S1| logLen:                                                   
                                               3[AppendEntry]                                                     
                        S1|T6 replica entries                                                                     
                        to S2| entrylen:0|                                                                        
                        matchidx:2| nextidx:3                                                                     
                        S1|T6 save persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
                        S1|T6 receive commands                                                                    
                        | logLen: 4[Start]                                                                        
                                                                                            S4|T6 is not leader   
                                               S2|T6 is not leader                                                
                                                                                            S4|T6 save persist|   
                                                                                            votedFor: 1| logsLen: 
                                                                                            4                     
                                                                                            S4|T6 appends logs    
                                                                                            from S1| logLen:      
                                                                                            4[AppendEntry]        
                                               S2|T6 rejects to                                                   
                                               append entries from S1                                             
                                               | inconsistency                                                    
                                               log[AppendEntry]                                                   
                                               S2|T6 save persist|                                                
                                               votedFor: 1| logsLen:                                              
                                               4                                                                  
                                               S2|T6 appends logs                                                 
                                               from S1| logLen:                                                   
                                               4[AppendEntry]                                                     
                        S1|T6 replica entries                                                                     
                        to S4| entrylen:1|                                                                        
                        matchidx:3| nextidx:4                                                                     
                        S1|T6 replica entries                                                                     
                        to S2| entrylen:1|                                                                        
                        matchidx:3| nextidx:4                                                                     
                        S1|T6 update                                                                              
                        commitIndex as 3                                                                          
                        S1|T6 apply entries                                                                       
                        [1:3][ApplyEntry]                                                                         
                                               S2|T6 is not leader                                                
                                                                                            S4|T6 is not leader   
                                               S2|T6 is not leader                                                
                                                                                            S4|T6 is not leader   
                                                                                            S4|T6 is not leader   
                                               S2|T6 is not leader                                                
                                                                                            S4|T6 is not leader   
                                               S2|T6 is not leader                                                
                                                                      S3|T0 is made                               
                                                                      S3|T5 read persist|                         
                                                                      votedFor: 3| logsLen:                       
                                                                      4                                           
                                               S2|T6 is not leader                                                
                                                                                            S4|T6 is not leader   
                                                                      S3|T5 is not leader                         
                                                                                            S4|T6 is not leader   
                                               S2|T6 is not leader                                                
                                                                      S3|T5 is not leader                         
                                               S2|T7 starts to join                                               
                                               election                                                           
                                               S2|T7 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               4                                                                  
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: -1| logsLen:
                                                                                            4                     
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            4                     
                                                                                            S4|T7 votes for       
                                                                                            S2[RequestVote]       
                                                                      S3|T7 save persist|                         
                                                                      votedFor: -1|                               
                                                                      logsLen: 4                                  
                                                                      S3|T7 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      4                                           
                                                                      S3|T7 votes for                             
                                                                      S2[RequestVote]                             
                                               S2|T7 becomes the                                                  
                                               leader, and starts                                                 
                                               heatbeats                                                          
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            4                     
                                                                                            S4|T7 appends logs    
                                                                                            from S2| logLen:      
                                                                                            4[AppendEntry]        
                                               S2|T7 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:3| nextidx:4                                              
                                                                      S3|T7 rejects to                            
                                                                      append entries from                         
                                                                      S2 | inconsistency                          
                                                                      log[AppendEntry]                            
                                                                      S3|T7 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      4                                           
                                                                      S3|T7 appends logs                          
                                                                      from S2| logLen:                            
                                                                      4[AppendEntry]                              
                                               S2|T7 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:3| nextidx:4                                              
                                                                                            S4|T7 is not leader   
                                                                      S3|T7 rejects to                            
                                                                      append entries from                         
                                                                      S2 | inconsistency                          
                                                                      log[AppendEntry]                            
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            4                     
                                                                                            S4|T7 appends logs    
                                                                                            from S2| logLen:      
                                                                                            4[AppendEntry]        
                                                                      S3|T7 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      4                                           
                                                                      S3|T7 appends logs                          
                                                                      from S2| logLen:                            
                                                                      4[AppendEntry]                              
                                               S2|T7 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:3| nextidx:4                                              
                                               S2|T7 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:3| nextidx:4                                              
                                                                      S3|T7 is not leader                         
                                                                                            S4|T7 is not leader   
                                                                      S3|T7 rejects to                            
                                                                      append entries from                         
                                                                      S2 | inconsistency                          
                                                                      log[AppendEntry]                            
                                                                      S3|T7 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      4                                           
                                                                      S3|T7 appends logs                          
                                                                      from S2| logLen:                            
                                                                      4[AppendEntry]                              
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            4                     
                                                                                            S4|T7 appends logs    
                                                                                            from S2| logLen:      
                                                                                            4[AppendEntry]        
                                               S2|T7 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:3| nextidx:4                                              
                                               S2|T7 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:3| nextidx:4                                              
                                                                      S3|T7 is not leader                         
                                                                                            S4|T7 is not leader   
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            4                     
                                                                                            S4|T7 appends logs    
                                                                                            from S2| logLen:      
                                                                                            4[AppendEntry]        
                                                                      S3|T7 rejects to                            
                                                                      append entries from                         
                                                                      S2 | inconsistency                          
                                                                      log[AppendEntry]                            
                                                                      S3|T7 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      4                                           
                                                                      S3|T7 appends logs                          
                                                                      from S2| logLen:                            
                                                                      4[AppendEntry]                              
                                               S2|T7 replica entries                                              
                                               to S4| entrylen:0|                                                 
                                               matchidx:3| nextidx:4                                              
                                               S2|T7 replica entries                                              
                                               to S3| entrylen:0|                                                 
                                               matchidx:3| nextidx:4                                              
                                                                      S3|T7 is not leader                         
                                               S2|T7 save persist|                                                
                                               votedFor: 2| logsLen:                                              
                                               5                                                                  
                                               S2|T7 receive commands                                             
                                               | logLen: 5[Start]                                                 
                                                                                            S4|T7 is not leader   
                                                                                            S4|T7 save persist|   
                                                                                            votedFor: 2| logsLen: 
                                                                                            5                     
                                                                                            S4|T7 appends logs    
                                                                                            from S2| logLen:      
                                                                                            5[AppendEntry]        
                                                                      S3|T7 rejects to                            
                                                                      append entries from                         
                                                                      S2 | inconsistency                          
                                                                      log[AppendEntry]                            
                                                                      S3|T7 save persist|                         
                                                                      votedFor: 2| logsLen:                       
                                                                      5                                           
                                                                      S3|T7 appends logs                          
                                                                      from S2| logLen:                            
                                                                      5[AppendEntry]                              
                                               S2|T7 replica entries                                              
                                               to S4| entrylen:1|                                                 
                                               matchidx:4| nextidx:5                                              
                        S1|T0 is made                                                                             
                                               S2|T7 replica entries                                              
                                               to S3| entrylen:1|                                                 
                                               matchidx:4| nextidx:5                                              
                                               S2|T7 update                                                       
                                               commitIndex as 4                                                   
                        S1|T6 read persist|                                                                       
                        votedFor: 1| logsLen:                                                                     
                        4                                                                                         
##################################################################################################################
FAIL    6.824/raft      30.896s
